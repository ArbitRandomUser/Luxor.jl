<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Basic graphics · Luxor documentation</title><link href="assets/documenter.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script></head><body><nav class="toc"><a href><img class="logo" src="assets/logo.png" alt="Luxor logo"/></a><h1>Luxor</h1><form class="search" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Introduction to Luxor</a></li><li><a class="toctext" href="examples.html">A few examples</a></li><li class="current"><a class="toctext" href="basics.html">Basic graphics</a><ul class="internal"><li><a class="toctext" href="#Types-1">Types</a></li><li><a class="toctext" href="#Drawings-and-files-1">Drawings and files</a></li><li><a class="toctext" href="#Axes-and-backgrounds-1">Axes and backgrounds</a></li><li><a class="toctext" href="#Simple-shapes-1">Simple shapes</a></li><li><a class="toctext" href="#Rectangles-and-boxes-1">Rectangles and boxes</a></li><li><a class="toctext" href="#Circles,-ellipses,-and-the-like-1">Circles, ellipses, and the like</a></li><li><a class="toctext" href="#Lines,-arcs,-and-curves-1">Lines, arcs, and curves</a></li><li><a class="toctext" href="#Paths-1">Paths</a></li><li><a class="toctext" href="#Color-and-opacity-1">Color and opacity</a></li><li><a class="toctext" href="#Styles-1">Styles</a></li><li><a class="toctext" href="#Polygons-and-shapes-1">Polygons and shapes</a></li><li><a class="toctext" href="#Text-and-fonts-1">Text and fonts</a></li></ul></li><li><a class="toctext" href="transforms.html">Transforms and matrices</a></li><li><a class="toctext" href="clipping.html">Clipping</a></li><li><a class="toctext" href="images.html">Images</a></li><li><a class="toctext" href="turtle.html">Turtle graphics</a></li><li><a class="toctext" href="moreexamples.html">More examples</a></li><li><a class="toctext" href="functionindex.html">Index</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="basics.html">Basic graphics</a></li></ul><a class="edit-page" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/docs/src/basics.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><h1><a class="nav-anchor" id="The-basics-1" href="#The-basics-1">The basics</a></h1><p>The underlying drawing model is that points are added to paths, then the paths can be filled and/or stroked, using the current graphics state, which specifies colors, line thicknesses and patterns, and opacity. You can modify the drawing space by transforming/rotating/scaling it before you add graphics.</p><p>Many of the drawing functions have an <em>action</em> argument. This can be <code>:nothing</code>, <code>:fill</code>, <code>:stroke</code>, <code>:fillstroke</code>, <code>:fillpreserve</code>, <code>:strokepreserve</code>, <code>:clip</code>. The default is <code>:nothing</code>.</p><p>Positions are usually specified either by x and y coordinates or a <code>Point(x, y)</code>. Angles are usually measured starting at the positive x-axis going towards the positive y-axis (which usually points &#39;down&#39; the page or canvas) in radians. Or &#39;clockwise&#39;.</p><h2><a class="nav-anchor" id="Types-1" href="#Types-1">Types</a></h2><p>The two main defined types are the <code>Point</code> and the <code>Drawing</code>. The Point type holds two coordinates, the x and y:</p><pre><code class="language-none">Point(12.0, 13.0)</code></pre><p>It&#39;s immutable, so you want to avoid trying to change the x or y coordinate directly.</p><p>The other is <code>Drawing</code>, which is how you create new drawings.</p><h2><a class="nav-anchor" id="Drawings-and-files-1" href="#Drawings-and-files-1">Drawings and files</a></h2><p>To create a drawing, and optionally specify the filename and type, and dimensions, use the <code>Drawing</code> function to create a Drawing.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.Drawing" href="#Luxor.Drawing"><code>Luxor.Drawing</code></a> — <span class="docstring-category">Type</span>.</div><div><p>Create a new drawing, and optionally specify file type (PNG, PDF, SVG, etc) and dimensions.</p><pre><code class="language-none">Drawing()</code></pre><p>creates a drawing, defaulting to PNG format, default filename &quot;luxor-drawing.png&quot;, default size 800 pixels square.</p><p>You can specify dimensions, and use the default target filename:</p><pre><code class="language-none">Drawing(300,300)</code></pre><p>creates a drawing 300 by 300 pixels, defaulting to PNG format, default filename &quot;/tmp/luxor-drawing.png&quot;.</p><pre><code class="language-none">Drawing(300,300, &quot;my-drawing.pdf&quot;)</code></pre><p>creates a PDF drawing in the file &quot;my-drawing.pdf&quot;, 300 by 300 pixels.</p><pre><code class="language-none">Drawing(800,800, &quot;my-drawing.svg&quot;)`</code></pre><p>creates an SVG drawing in the file &quot;my-drawing.svg&quot;, 800 by 800 pixels.</p><pre><code class="language-none">Drawing(800,800, &quot;my-drawing.eps&quot;)</code></pre><p>creates an EPS drawing in the file &quot;my-drawing.eps&quot;, 800 by 800 pixels.</p><pre><code class="language-none">Drawing(&quot;A4&quot;, &quot;my-drawing.pdf&quot;)</code></pre><p>creates a drawing in ISO A4 size in the file &quot;my-drawing.pdf&quot;. Other sizes available are:  &quot;A0&quot;, &quot;A1&quot;, &quot;A2&quot;, &quot;A3&quot;, &quot;A4&quot;, &quot;A5&quot;, &quot;A6&quot;, &quot;Letter&quot;, &quot;Legal&quot;, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;. Append &quot;landscape&quot; to get the landscape version.</p><pre><code class="language-none">Drawing(&quot;A4landscape&quot;)</code></pre><p>Create the drawing A4 landscape size.</p><p>Note that PDF files seem to default to a white background, but PNG defaults to black. Might be a bug here somewhere...</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L136-L175">source</a><br/></section><p>To finish a drawing and close the file, use <code>finish()</code>, and, to launch an external application to view it, use <code>preview()</code>.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.finish" href="#Luxor.finish"><code>Luxor.finish</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">finish()</code></pre><p>Finish the drawing, and close the file. You may be able to open it in an external viewer application with <code>preview()</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L186-L191">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.preview" href="#Luxor.preview"><code>Luxor.preview</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">preview()</code></pre><p>On macOS, open the file, which probably uses the default, Preview.app. On Unix, open the file with <code>xdg-open</code>. On Windows, pass the filename to the shell.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L203-L209">source</a><br/></section><p>The global variable <code>currentdrawing</code> of type Drawing holds a few parameters which are occasionaly useful:</p><pre><code class="language-none">julia&gt; fieldnames(currentdrawing)
10-element Array{Symbol,1}:
:width
:height
:filename
:surface
:cr
:surfacetype
:redvalue
:greenvalue
:bluevalue
:alpha</code></pre><p>The drawing area (or any other area) can be divided into tiles (rows and columns) using the <code>Tiler</code> iterator.</p><div><pre><code class="language-julia">fontsize(20)
tiles = Tiler(400, 300, 4, 5, margin=5)
for (pos, n) in tiles
  randomhue()
  box(pos, tiles.tilewidth, tiles.tileheight, :fillstroke)
  sethue(&quot;white&quot;)
  textcentred(string(n), pos + Point(0, 5))
end</code></pre></div><p><img src="figures/tiler.png" alt/></p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.Tiler" href="#Luxor.Tiler"><code>Luxor.Tiler</code></a> — <span class="docstring-category">Type</span>.</div><div><p>A Tiler is an iterator that returns the <code>x</code>/<code>y</code> point of the center of each tile in a set of tiles that divide up a rectangular space such as a page into rows and columns.</p><pre><code class="language-none">tiles = Tiler(areawidth, areaheight, nrows, ncols, margin=20)</code></pre><p>where <code>width</code>, <code>height</code> is the dimensions of the area to be tiled, <code>nrows</code>/<code>ncols</code> is the number of rows and columns required, and <code>margin</code> is applied to all four edges of the area before the function calculates the tile sizes required.</p><pre><code class="language-none">tiles = Tiler(1000, 800, 4, 5, margin=20)
for (pos, n) in tiles
# the point pos is the center of the tile
end</code></pre><p>You can access the calculated tile width and height like this:</p><pre><code class="language-none">tiles = Tiler(1000, 800, 4, 5, margin=20)
for (pos, n) in tiles
  ellipse(pos.x, pos.y, tiles.tilewidth, tiles.tileheight, :fill)
end</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Tiler.jl#L1-L22">source</a><br/></section><h2><a class="nav-anchor" id="Axes-and-backgrounds-1" href="#Axes-and-backgrounds-1">Axes and backgrounds</a></h2><p>The origin (0/0) starts off at the top left: the x axis runs left to right, and the y axis runs top to bottom.</p><p>The <code>origin()</code> function moves the 0/0 point to the center of the drawing. It&#39;s often convenient to do this at the beginning of a program.</p><p>The <code>axes()</code> function draws a couple of lines and text labels in light gray to indicate the position and orientation of the current axes.</p><p><code>background()</code> fills the entire image with a color, covering any previous contents.</p><div><pre><code class="language-julia">background(&quot;gray20&quot;)
origin()
axes()</code></pre></div><p><img src="figures/axes.png" alt/></p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.background" href="#Luxor.background"><code>Luxor.background</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">background(color)</code></pre><p>Fill the canvas (or the current clipping region, if there is one) with a single color.</p><p>Examples:</p><pre><code class="language-none">background(&quot;antiquewhite&quot;)
background(&quot;ivory&quot;)
background(Colors.RGB(0, 0, 0))
background(Colors.Luv(20, -20, 30))</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L264-L275">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.axes" href="#Luxor.axes"><code>Luxor.axes</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Draw two axes lines starting at the current 0/0 and continuing out along the current positive x and y axes.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L245-L248">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.origin" href="#Luxor.origin"><code>Luxor.origin</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">origin()</code></pre><p>Set the 0/0 origin to the center of the drawing (otherwise it will stay at the top left corner, the default).</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L220-L225">source</a><br/></section><h2><a class="nav-anchor" id="Simple-shapes-1" href="#Simple-shapes-1">Simple shapes</a></h2><p>Functions for making shapes include <code>circle()</code>, <code>ellipse()</code>, <code>squircle()</code>, <code>arc()</code>, <code>carc()</code>, <code>curve()</code>, <code>sector()</code>, <code>rect()</code>, <code>pie()</code>, and <code>box()</code>.</p><h2><a class="nav-anchor" id="Rectangles-and-boxes-1" href="#Rectangles-and-boxes-1">Rectangles and boxes</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.rect" href="#Luxor.rect"><code>Luxor.rect</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Create a rectangle with one corner at (<code>xmin</code>/<code>ymin</code>) with width <code>w</code> and height <code>h</code> and do an action.</p><pre><code class="language-none">rect(xmin, ymin, w, h, action)</code></pre><p>See <code>box()</code> for more ways to do similar things, such as supplying two opposite corners, placing by centerpoint and dimensions.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L573-L581">source</a><br/><div><p>Create a rectangle with one corner at <code>cornerpoint</code> with width <code>w</code> and height <code>h</code> and do an action.</p><pre><code class="language-none">rect(cornerpoint, w, h, action)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L591-L596">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.box" href="#Luxor.box"><code>Luxor.box</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Create a rectangle between two points and do an action.</p><pre><code class="language-none">box(cornerpoint1, cornerpoint2, action=:nothing)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L601-L606">source</a><br/><div><p>Create a box/rectangle using the first two points of an array of Points to defined opposite corners.</p><pre><code class="language-none">box(points::Array, action=:nothing)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L611-L616">source</a><br/><div><p>Create a box/rectangle centered at point <code>pt</code> with width and height.</p><pre><code class="language-none">box(pt::Point, width, height, action=:nothing)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L621-L625">source</a><br/><div><p>Create a box/rectangle centered at point <code>x/y</code> with width and height.</p><pre><code class="language-none">box(x, y, width, height, action=:nothing)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L630-L634">source</a><br/></section><h2><a class="nav-anchor" id="Circles,-ellipses,-and-the-like-1" href="#Circles,-ellipses,-and-the-like-1">Circles, ellipses, and the like</a></h2><p>There are various ways to make circles, including by center and radius, through two points, or passing through three points. You can place ellipses (and circles) by defining centerpoint and width and height.</p><div><pre><code class="language-julia">sethue(&quot;black&quot;)
p1 = Point(0, -50)
p2 = Point(100, 0)
p3 = Point(0, 65)
map(p -&gt; circle(p, 4, :fill), [p1, p2, p3])
circle(center3pts(p1, p2, p3)..., :stroke)</code></pre></div><p><img src="figures/center3.png" alt/></p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.circle" href="#Luxor.circle"><code>Luxor.circle</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Make a circle of radius <code>r</code> centred at <code>x</code>/<code>y</code>.</p><pre><code class="language-none">circle(x, y, r, action=:nothing)</code></pre><p><code>action</code> is one of the actions applied by <code>do_action</code>, defaulting to <code>:nothing</code>. You can also use <code>ellipse()</code> to draw circles and place them by their centerpoint.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L409-L416">source</a><br/><div><p>Make a circle centred at <code>pt</code>.</p><pre><code class="language-none">circle(pt, r, action)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L425-L430">source</a><br/><div><p>Make a circle that passes through two points that define the diameter:</p><pre><code class="language-none">circle(pt1::Point, pt2::Point, action=:nothing)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L434-L438">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.ellipse" href="#Luxor.ellipse"><code>Luxor.ellipse</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Make an ellipse, centered at <code>xc/yc</code>, fitting in a box of width <code>w</code> and height <code>h</code>.</p><pre><code class="language-none">ellipse(xc, yc, w, h, action=:none)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L489-L493">source</a><br/><div><p>Make an ellipse, centered at point <code>c</code>, with width <code>w</code>, and height <code>h</code>.</p><pre><code class="language-none">ellipse(cpt, w, h, action=:none)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L512-L516">source</a><br/></section><p>A sector (strictly an &quot;annular sector&quot;) has an inner and outer radius, as well as start and end angles.</p><div><pre><code class="language-julia">sector(50, 90, pi/2, 0, :fill)</code></pre></div><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.sector" href="#Luxor.sector"><code>Luxor.sector</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">sector(innerradius, outerradius, startangle, endangle, action=:none)</code></pre><p>Make an annular sector centered at the current <code>0/0</code> point.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L639-L643">source</a><br/></section><p><img src="figures/sector.png" alt/></p><p>A pie (or wedge) has start and end angles.</p><div><pre><code class="language-julia">pie(0, 0, 100, pi/2, pi, :fill)</code></pre></div><p><img src="figures/pie.png" alt/></p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.pie" href="#Luxor.pie"><code>Luxor.pie</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">pie(x, y, radius, startangle, endangle, action=:none)</code></pre><p>Make a pie shape centered at <code>x</code>/<code>y</code>. Angles start at the positive x-axis and are measured clockwise.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L655-L660">source</a><br/><div><pre><code class="language-none">pie(centerpoint, radius, startangle, endangle, action=:none)</code></pre><p>Make a pie shape centered at <code>centerpoint</code>.</p><p>Angles start at the positive x-axis and are measured clockwise.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L674-L680">source</a><br/></section><p>A <em>squircle</em> is a cross between a square and a circle. You can adjust the squariness and circularity of it to taste:</p><div><pre><code class="language-julia">setline(2)
tiles = Tiler(600, 300, 1, 3)
for (pos, n) in tiles
    sethue(&quot;lavender&quot;)
    squircle(pos, 80, 80, rt=[0.3, 0.5, 0.7][n], :fillpreserve)
    sethue(&quot;grey20&quot;)
    stroke()
    textcentered(&quot;rt = $([0.3, 0.5, 0.7][n])&quot;, pos)
end</code></pre></div><p><img src="figures/squircle.png" alt/></p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.squircle" href="#Luxor.squircle"><code>Luxor.squircle</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Make a squircle (basically a rectangle with rounded corners). Specify the center position, horizontal radius (distance from center to a side), and vertical radius (distance from center to top or bottom):</p><pre><code class="language-none">squircle(center::Point, hradius, vradius, action=:none; rt = 0.5, vertices=false)</code></pre><p>The <code>rt</code> option defaults to 0.5, and gives an intermediate shape. Values less than 0.5 make the shape more square. Values above make the shape more round.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L519-L525">source</a><br/></section><h2><a class="nav-anchor" id="Lines,-arcs,-and-curves-1" href="#Lines,-arcs,-and-curves-1">Lines, arcs, and curves</a></h2><p>There is a &#39;current position&#39; which you can set with <code>move()</code>, and can use implicitly in functions like <code>line()</code> and <code>text()</code>.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.move" href="#Luxor.move"><code>Luxor.move</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Move to a point.</p><pre><code class="language-none">move(x, y)
move(pt)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L737-L742">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.rmove" href="#Luxor.rmove"><code>Luxor.rmove</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Move by an amount from the current point. Move relative to current position by <code>x</code> and <code>y</code>:</p><pre><code class="language-none">rmove(x, y)</code></pre><p>Move relative to current position by the <code>pt</code>&#39;s x and y:</p><pre><code class="language-none">rmove(pt)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L746-L754">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.line" href="#Luxor.line"><code>Luxor.line</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Create a line from the current position to the <code>x/y</code> position and optionally apply an action:</p><pre><code class="language-none">line(x, y)
line(x, y, :action)
line(pt)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L758-L765">source</a><br/><div><p>Make a line between two points, <code>pt1</code> and <code>pt2</code>.</p><pre><code class="language-none">line(pt1::Point, pt2::Point, action=:nothing)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L769-L774">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.rline" href="#Luxor.rline"><code>Luxor.rline</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Create a line relative to the current position to the <code>x/y</code> position and optionally apply an action:</p><pre><code class="language-none">rline(x, y)
rline(x, y, :action)
rline(pt)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L781-L787">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.arc" href="#Luxor.arc"><code>Luxor.arc</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Add an arc to the current path from <code>angle1</code> to <code>angle2</code> going clockwise.</p><pre><code class="language-none">arc(xc, yc, radius, angle1, angle2, action=:nothing)</code></pre><p>Angles are defined relative to the x-axis, positive clockwise.</p><p>TODO: Point versions</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L544-L552">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.carc" href="#Luxor.carc"><code>Luxor.carc</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Add an arc to the current path from <code>angle1</code> to <code>angle2</code> going counterclockwise.</p><pre><code class="language-none">carc(xc, yc, radius, angle1, angle2, action=:nothing)</code></pre><p>Angles are defined relative to the x-axis, positive clockwise.</p><p>TODO: Point versions</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L558-L567">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.curve" href="#Luxor.curve"><code>Luxor.curve</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Create a cubic Bézier spline curve.</p><pre><code class="language-none">curve(x1, y1, x2, y2, x3, y3)
curve(p1, p2, p3)</code></pre><p>The spline starts at the current position, finishing at <code>x3/y3</code> (<code>p3</code>), following two control points <code>x1/y1</code> (<code>p1</code>) and <code>x2/y2</code> (<code>p2</code>)</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L791-L800">source</a><br/></section><h3><a class="nav-anchor" id="Arrows-1" href="#Arrows-1">Arrows</a></h3><p>You can draw lines or arcs with arrows at the end with <code>arrow()</code>. For straight arrows, supply the start and end points. For arrows as circular arcs, you provide center, radius, start and finish angles. You can optionally provide dimensions for the arrowheadlength and angle of the tip of the arrow.</p><div><pre><code class="language-julia">setline(2)
arrow(Point(0, 0), Point(0, -65))
arrow(Point(0, 0), Point(100, -65), arrowheadlength=20, arrowheadangle=pi/4)
arrow(Point(0, 0), 100, pi, pi/2, arrowheadlength=25,   arrowheadangle=pi/12)</code></pre></div><p><img src="figures/arrow.png" alt/></p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.arrow" href="#Luxor.arrow"><code>Luxor.arrow</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Place a line between two points and add an arrowhead at the end. The arrowhead length is the length of the side of the arrow&#39;s head, and arrow head angle is the angle between the side of the head and the shaft of the arrow.</p><pre><code class="language-none">arrow(startpoint::Point, endpoint::Point; arrowheadlength=10, arrowheadangle=pi/8)</code></pre><p>It doesn&#39;t need stroking/filling, the shaft is <code>stroke()</code>d and the head <code>fill()</code>ed. Quiet at the back of the class.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/arrows.jl#L1-L10">source</a><br/><div><p>Place a curved arrow, an arc centered at <code>centerpos</code> starting at <code>startangle</code> and ending at <code>endangle</code> with an arrowhead at the end. Angles are measured clockwise from the positive x-axis.</p><pre><code class="language-none">arrow(centerpos::Point, radius, startangle, endangle; arrowheadlength=10, arrowheadangle=pi/8)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/arrows.jl#L49-L56">source</a><br/></section><h2><a class="nav-anchor" id="Paths-1" href="#Paths-1">Paths</a></h2><p>A path is a group of points. A path can have subpaths (which can form holes).</p><p>The <code>getpath()</code> function gets the current Cairo path as an array of element types and points. <code>getpathflat()</code> gets the current path as an array of type/points with curves flattened to line segments.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.newpath" href="#Luxor.newpath"><code>Luxor.newpath</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">newpath()</code></pre><p>Create a new path. This is Cairo&#39;s <code>new_path()</code> function.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L290-L294">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.newsubpath" href="#Luxor.newsubpath"><code>Luxor.newsubpath</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">newsubpath()</code></pre><p>Add a new subpath to the current path. This is Cairo&#39;s <code>new_sub_path()</code> function. It can be used for example to make holes in shapes.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L297-L302">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.closepath" href="#Luxor.closepath"><code>Luxor.closepath</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">closepath()</code></pre><p>Close the current path. This is Cairo&#39;s <code>close_path()</code> function.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L305-L309">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.getpath" href="#Luxor.getpath"><code>Luxor.getpath</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Get the current path (thanks Andreas Lobinger!)</p><p>Returns a CairoPath which is an array of .element_type and .points. With the results you could typically step through and examine each entry:</p><pre><code class="language-none">o = getpath()
for e in o
      if e.element_type == Cairo.CAIRO_PATH_MOVE_TO
          (x, y) = e.points
          move(x, y)
      elseif e.element_type == Cairo.CAIRO_PATH_LINE_TO
          (x, y) = e.points
          # straight lines
          line(x, y)
          stroke()
          circle(x, y, 1, :stroke)
      elseif e.element_type == Cairo.CAIRO_PATH_CURVE_TO
          (x1, y1, x2, y2, x3, y3) = e.points
          # Bezier control lines
          circle(x1, y1, 1, :stroke)
          circle(x2, y2, 1, :stroke)
          circle(x3, y3, 1, :stroke)
          move(x, y)
          curve(x1, y1, x2, y2, x3, y3)
          stroke()
          (x, y) = (x3, y3) # update current point
      elseif e.element_type == Cairo.CAIRO_PATH_CLOSE_PATH
          closepath()
      else
          error(&quot;unknown CairoPathEntry &quot; * repr(e.element_type))
          error(&quot;unknown CairoPathEntry &quot; * repr(e.points))
      end
  end</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L868-L904">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.getpathflat" href="#Luxor.getpathflat"><code>Luxor.getpathflat</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Get the current path, like <code>getpath()</code> but flattened so that there are no Bezier curves.</p><p>Returns a CairoPath which is an array of .element_type and .points.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L907-L911">source</a><br/></section><h2><a class="nav-anchor" id="Color-and-opacity-1" href="#Color-and-opacity-1">Color and opacity</a></h2><p>For color definitions and conversions, use Colors.jl.</p><p>The difference between the <code>setcolor()</code> and <code>sethue()</code> functions is that <code>sethue()</code> is independent of alpha opacity, so you can change the hue without changing the current opacity value.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.sethue" href="#Luxor.sethue"><code>Luxor.sethue</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Set the color. <code>sethue()</code> is like <code>setcolor()</code>, but (like Mathematica) we sometimes want to change the current &#39;color&#39; without changing alpha/opacity. Using <code>sethue()</code> rather than <code>setcolor()</code> doesn&#39;t change the current alpha opacity.</p><pre><code class="language-none">sethue(&quot;black&quot;)
sethue(0.3,0.7,0.9)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L1174-L1182">source</a><br/><div><pre><code class="language-none">sethue(&quot;red&quot;)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L1189-L1192">source</a><br/><div><pre><code class="language-none">sethue(0.3, 0.7, 0.9)</code></pre><p>Use <code>setcolor(r,g,b,a)</code> to set transparent colors.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L1200-L1204">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.setcolor" href="#Luxor.setcolor"><code>Luxor.setcolor</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">setcolor(col::String)</code></pre><p>Set the current color to a named color. This relies on Colors.jl to convert a string to RGBA eg setcolor(&quot;gold&quot;) # or &quot;green&quot;, &quot;darkturquoise&quot;, &quot;lavender&quot; or what have you. The list is at <code>Colors.color_names</code>.</p><pre><code class="language-none">setcolor(&quot;gold&quot;)
setcolor(&quot;darkturquoise&quot;)</code></pre><p>Use <code>sethue()</code> for changing colors without changing current opacity level.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L1108-L1118">source</a><br/><div><p>Set the current color.</p><pre><code class="language-none">setcolor(r, g, b)
setcolor(r, g, b, alpha)
setcolor(color)
setcolor(col::ColorTypes.Colorant)</code></pre><p>Examples:</p><pre><code class="language-none">setcolor(convert(Colors.HSV, Colors.RGB(0.5, 1, 1)))
setcolor(.2, .3, .4, .5)
setcolor(convert(Color.HSV, Color.RGB(0.5, 1, 1)))

for i in 1:15:360
   setcolor(convert(Color.RGB, Color.HSV(i, 1, 1)))
   ...
end</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L1126-L1144">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.randomhue" href="#Luxor.randomhue"><code>Luxor.randomhue</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Set a random hue.</p><pre><code class="language-none">randomhue()</code></pre><p>Choose a random color without changing the current alpha opacity.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L1224-L1230">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.randomcolor" href="#Luxor.randomcolor"><code>Luxor.randomcolor</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Set a random color.</p><pre><code class="language-none">randomcolor()</code></pre><p>This probably changes the current alpha opacity too.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L1235-L1242">source</a><br/></section><h2><a class="nav-anchor" id="Styles-1" href="#Styles-1">Styles</a></h2><p>The <code>set-</code> functions control the width, end shapes, join behavior and dash pattern:</p><div><pre><code class="language-julia">for l in 1:3
  sethue(&quot;black&quot;)
  setline(20)
  setlinecap([&quot;butt&quot;, &quot;square&quot;, &quot;round&quot;][l])
  textcentred([&quot;butt&quot;, &quot;square&quot;, &quot;round&quot;][l], 80l, 80)
  setlinejoin([&quot;round&quot;, &quot;miter&quot;, &quot;bevel&quot;][l])
  textcentred([&quot;round&quot;, &quot;miter&quot;, &quot;bevel&quot;][l], 80l, 120)
  poly(ngon(Point(80l, 0), 20, 3, 0, vertices=true), :strokepreserve, close=false)
  sethue(&quot;white&quot;)
  setline(1)
  stroke()
end</code></pre></div><p><img src="figures/line-ends.png" alt/></p><div><pre><code class="language-julia">setline(12)
patterns = &quot;solid&quot;, &quot;dotted&quot;, &quot;dot&quot;, &quot;dotdashed&quot;, &quot;longdashed&quot;, &quot;shortdashed&quot;, &quot;dash&quot;, &quot;dashed&quot;, &quot;dotdotdashed&quot;, &quot;dotdotdotdashed&quot;
tiles =  Tiler(400, 250, 10, 1, margin=10)
for (pos, n) in tiles
  setdash(patterns[n])
  textright(patterns[n], pos.x - 20, pos.y + 4)
  line(pos, Point(pos.x + 250, pos.y), :stroke)
end</code></pre></div><p><img src="figures/dashes.png" alt/></p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.setline" href="#Luxor.setline"><code>Luxor.setline</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Set the line width.</p><pre><code class="language-none">setline(n)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L685-L690">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.setlinecap" href="#Luxor.setlinecap"><code>Luxor.setlinecap</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Set the line ends. <code>s</code> can be &quot;butt&quot; (the default), &quot;square&quot;, or &quot;round&quot;.</p><pre><code class="language-none">setlinecap(s)

setlinecap(&quot;round&quot;)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L693-L699">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.setlinejoin" href="#Luxor.setlinejoin"><code>Luxor.setlinejoin</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Set the line join, or how to render the junction of two lines when stroking.</p><pre><code class="language-none">setlinejoin(&quot;round&quot;)
setlinejoin(&quot;miter&quot;)
setlinejoin(&quot;bevel&quot;)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L710-L716">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.setdash" href="#Luxor.setdash"><code>Luxor.setdash</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Set the dash pattern to one of: &quot;solid&quot;, &quot;dotted&quot;, &quot;dot&quot;, &quot;dotdashed&quot;, &quot;longdashed&quot;, &quot;shortdashed&quot;, &quot;dash&quot;, &quot;dashed&quot;, &quot;dotdotdashed&quot;, &quot;dotdotdotdashed&quot;</p><pre><code class="language-none">setlinedash(&quot;dot&quot;)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L727-L732">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.fillstroke" href="#Luxor.fillstroke"><code>Luxor.fillstroke</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Fill and stroke the current path.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L354-L356">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.stroke" href="#Luxor.stroke"><code>Luxor.stroke</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Stroke the current path with the current line width, line join, line cap, and dash settings. The current path is then cleared.</p><pre><code class="language-none">stroke()</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L312-L318">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.fill" href="#Base.fill"><code>Base.fill</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Fill the current path with current settings. The current path is then cleared.</p><pre><code class="language-none">fill()</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L321-L326">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.strokepreserve" href="#Luxor.strokepreserve"><code>Luxor.strokepreserve</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Stroke the current path with current line width, line join, line cap, and dash settings, but then keep the path current.</p><pre><code class="language-none">strokepreserve()</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L337-L343">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.fillpreserve" href="#Luxor.fillpreserve"><code>Luxor.fillpreserve</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Fill the current path with current settings, but then keep the path current.</p><pre><code class="language-none">fillpreserve()</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L346-L351">source</a><br/></section><p><code>gsave()</code> saves a copy of the current graphics settings (current axis rotation, position, scale, line and text settings, and so on). When the next <code>grestore()</code> is called, all changes you&#39;ve made to the graphics settings will be discarded, and they&#39;ll return to how they were when you used <code>gsave()</code>. <code>gsave()</code> and <code>grestore()</code> should always be balanced in pairs.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.gsave" href="#Luxor.gsave"><code>Luxor.gsave</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Save the current graphics state on the stack.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L809-L811">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.grestore" href="#Luxor.grestore"><code>Luxor.grestore</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Replace the current graphics state with the one on top of the stack.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L820-L822">source</a><br/></section><h2><a class="nav-anchor" id="Polygons-and-shapes-1" href="#Polygons-and-shapes-1">Polygons and shapes</a></h2><h3><a class="nav-anchor" id="Shapes-1" href="#Shapes-1">Shapes</a></h3><h3><a class="nav-anchor" id="Regular-polygons-(\"ngons\")-1" href="#Regular-polygons-(\"ngons\")-1">Regular polygons (&quot;ngons&quot;)</a></h3><p>You can make regular polygons — from triangles, pentagons, hexagons, septagons, heptagons, octagons, nonagons, decagons, and on-and-on-agons — with <code>ngon()</code>.</p><p><img src="figures/n-gon.png" alt="n-gons"/></p><pre><code class="language-julia">using Luxor, Colors
Drawing(1200, 1400)

origin()
cols = diverging_palette(60, 120, 20) # hue 60 to hue 120
background(cols[1])
setopacity(0.7)
setline(2)

ngon(0, 0, 500, 8, 0, :clip)

for y in -500:50:500
  for x in -500:50:500
    setcolor(cols[rand(1:20)])
    ngon(x, y, rand(20:25), rand(3:12), 0, :fill)
    setcolor(cols[rand(1:20)])
    ngon(x, y, rand(10:20), rand(3:12), 0, :stroke)
  end
end

finish()
preview()</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.ngon" href="#Luxor.ngon"><code>Luxor.ngon</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Find the vertices of a regular n-sided polygon centred at <code>x</code>, <code>y</code>:</p><pre><code class="language-none">ngon(x, y, radius, sides=5, orientation=0, action=:nothing; vertices=false, reversepath=false)</code></pre><p><code>ngon()</code> draws the shapes: if you just want the raw points, use keyword argument <code>vertices=false</code>, which returns the array of points instead. Compare:</p><pre><code class="language-julia">ngon(0, 0, 4, 4, 0, vertices=false) # returns the polygon&#39;s points:

    4-element Array{Luxor.Point,1}:
    Luxor.Point(2.4492935982947064e-16,4.0)
    Luxor.Point(-4.0,4.898587196589413e-16)
    Luxor.Point(-7.347880794884119e-16,-4.0)
    Luxor.Point(4.0,-9.797174393178826e-16)

whereas

ngon(0, 0, 4, 4, 0, :close) # draws a polygon</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/polygons.jl#L187-L207">source</a><br/><div><p>Draw a regular polygon centred at point <code>p</code>:</p><pre><code class="language-none">ngon(centerpos, radius, sides=5, orientation=0, action=:nothing; vertices=false, reversepath=false)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/polygons.jl#L219-L224">source</a><br/></section><h3><a class="nav-anchor" id="Polygons-1" href="#Polygons-1">Polygons</a></h3><p>A polygon is an array of Points. Use <code>poly()</code> to add them, or <code>randompointarray()</code> to create a random list of Points.</p><p>Polygons can contain holes. The <code>reversepath</code> keyword changes the direction of the polygon. The following piece of code uses <code>ngon()</code> to make two polygons, the second forming a hole in the first, to make a hexagonal bolt shape:</p><div><pre><code class="language-julia">ngon(0, 0, 60, 6, 0, :path)
newsubpath()
ngon(0, 0, 40, 6, 0, :path, reversepath=true)
fillstroke()</code></pre></div><p><img src="figures/holes.png" alt/></p><p>The <code>prettypoly()</code> function can place graphics at each vertex of a polygon. After the polygon action, the <code>vertex_action</code> is evaluated at each vertex. For example, to mark each vertex of a polygon with a randomly-colored circle:</p><div><pre><code class="language-julia">using Luxor, Colors
setline(4)
poly1 = ngon(0, 0, 100, 6, 0, vertices=true)
prettypoly(poly1, :stroke, :(
  randomhue();
  scale(0.5, 0.5);
  circle(0, 0, 15, :stroke)
  ),
close=true)</code></pre></div><p><img src="figures/prettypoly.png" alt/></p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.prettypoly" href="#Luxor.prettypoly"><code>Luxor.prettypoly</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Draw the polygon defined by points in <code>pl</code>, possibly closing and reversing it, using the current parameters, and then evaluate (using <code>eval</code>, <em>shudder</em>) the expression at every vertex of the polygon. For example, you can mark each vertex of a polygon with a circle scaled to 0.1.</p><pre><code class="language-none">prettypoly(pointlist::Array,
  action = :nothing,
  vertex_action::Expr = :(circle(0, 0, 1, :fill));
  close=false,
  reversepath=false)</code></pre><p>Example:</p><pre><code class="language-none">prettypoly(pl, :fill, :(scale(0.1, 0.1);
                        circle(0, 0, 10, :fill)
                       ),
          close=false)</code></pre><p>The expression can&#39;t use definitions that are not in scope, eg you can&#39;t pass a variable in from the calling function and expect this function to know about it. Yes, not tidy...</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/polygons.jl#L359-L379">source</a><br/></section><p>Polygons can be simplified using the Douglas-Peucker algorithm (non-recursive version), via <code>simplify()</code>.</p><div><pre><code class="language-julia">sincurve =  (Point(6x, 80sin(x)) for x in -5pi:pi/20:5pi)
prettypoly(collect(sincurve), :stroke, :(sethue(&quot;red&quot;); circle(0, 0, 3, :fill)))
text(string(&quot;number of points: &quot;, length(collect(sincurve))), 0, 100)
translate(0, 200)
simplercurve = simplify(collect(sincurve), 0.5)
prettypoly(simplercurve, :stroke, :(sethue(&quot;red&quot;); circle(0, 0, 3, :fill)))
text(string(&quot;number of points: &quot;, length(simplercurve)), 0, 100)</code></pre></div><p><img src="figures/simplify.png" alt/></p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.simplify" href="#Luxor.simplify"><code>Luxor.simplify</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Simplify a polygon:</p><pre><code class="language-none">simplify(pointlist::Array, detail=0.1)</code></pre><p><code>detail</code> is probably the smallest permitted distance between two points in pixels.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/polygons.jl#L175-L181">source</a><br/></section><p>The <code>isinside()</code> function returns true if a point is inside a polygon.</p><div><pre><code class="language-julia">setopacity(0.5)
apolygon = star(Point(0,0), 100, 5, 0.5, 0, vertices=true)
for n in 1:10000
  apoint = randompoint(Point(-200, -150), Point(200, 150))
  randomhue()
  isinside(apoint, apolygon) &amp;&amp; circle(apoint, 3, :fill)
end</code></pre></div><p><img src="figures/isinside.png" alt/></p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.isinside" href="#Luxor.isinside"><code>Luxor.isinside</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Is a point <code>p</code> inside a polygon <code>pol</code>?</p><pre><code class="language-none">isinside(p, pol)</code></pre><p>Returns true or false.</p><p>This is an implementation of the Hormann-Agathos (2001) Point in Polygon algorithm</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/polygons.jl#L264-L272">source</a><br/></section><p>There are some experimental polygon functions. These don&#39;t work well for polygons that aren&#39;t simple or where the sides intersect each other, but they sometimes do the job. For example, here&#39;s <code>polysplit()</code>:</p><div><pre><code class="language-julia">origin()
setopacity(0.8)
sethue(&quot;black&quot;)
s = squircle(Point(0,0), 60, 60, vertices=true)
pt1 = Point(0, -120)
pt2 = Point(0, 120)
line(pt1, pt2, :stroke)
poly1, poly2 = polysplit(s, pt1, pt2)
randomhue()
poly(poly1, :fill)
randomhue()
poly(poly2, :fill)</code></pre></div><p><img src="figures/polysplit.png" alt/></p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.polysplit" href="#Luxor.polysplit"><code>Luxor.polysplit</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Split a polygon into two where it intersects with a line:</p><pre><code class="language-none">polysplit(p, p1, p2)</code></pre><p>This doesn&#39;t always work, of course. (Tell me you&#39;re not surprised.) For example, a polygon the shape of the letter &quot;E&quot; might end up being divided into more than two parts.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/polygons.jl#L311-L318">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.polysortbydistance" href="#Luxor.polysortbydistance"><code>Luxor.polysortbydistance</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Sort a polygon by finding the nearest point to the starting point, then the nearest point to that, and so on.</p><pre><code class="language-none">polysortbydistance(p, starting::Point)</code></pre><p>You can end up with convex (self-intersecting) polygons, unfortunately.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/polygons.jl#L116-L123">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.polysortbyangle" href="#Luxor.polysortbyangle"><code>Luxor.polysortbyangle</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Sort the points of a polygon into order. Points are sorted according to the angle they make with a specified point.</p><pre><code class="language-none">polysortbyangle(pointlist::Array, refpoint=minimum(pointlist))</code></pre><p>The <code>refpoint</code> can be chosen, but the minimum point is usually OK too:</p><pre><code class="language-none">polysortbyangle(parray, polycentroid(parray))</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/polygons.jl#L98-L107">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.polycentroid" href="#Luxor.polycentroid"><code>Luxor.polycentroid</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Find the centroid of simple polygon.</p><pre><code class="language-none">polycentroid(pointlist)</code></pre><p>Returns a point. This only works for simple (non-intersecting) polygons.</p><p>You could test the point using <code>isinside()</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/polygons.jl#L48-L56">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.polybbox" href="#Luxor.polybbox"><code>Luxor.polybbox</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Find the bounding box of a polygon (array of points).</p><pre><code class="language-none">polybbox(pointlist::Array)</code></pre><p>Return the two opposite corners (suitable for <code>box()</code>, for example).</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/polygons.jl#L29-L35">source</a><br/></section><h3><a class="nav-anchor" id="Stars-1" href="#Stars-1">Stars</a></h3><p>Use <code>star()</code> to make a star.</p><div><pre><code class="language-julia">tiles = Tiler(400, 300, 4, 6, margin=5)
for (pos, n) in tiles
  randomhue()
  star(pos, tiles.tilewidth/3, rand(3:8), 0.5, 0, :fill)
end</code></pre></div><p><img src="figures/stars.png" alt="stars"/></p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.star" href="#Luxor.star"><code>Luxor.star</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Make a star:</p><pre><code class="language-none">star(xcenter, ycenter, radius, npoints=5, ratio=0.5, orientation=0, action=:nothing; vertices = false, reversepath=false)</code></pre><p>Use <code>vertices=true</code> to return the vertices of a star instead of drawing it.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/polygons.jl#L228-L234">source</a><br/><div><p>Draw a star centered at a position:</p><pre><code class="language-none">star(center, radius, npoints=5, ratio=0.5, orientation=0, action=:nothing; vertices = false, reversepath=false)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/polygons.jl#L256-L260">source</a><br/></section><h2><a class="nav-anchor" id="Text-and-fonts-1" href="#Text-and-fonts-1">Text and fonts</a></h2><h3><a class="nav-anchor" id="Placing-text-1" href="#Placing-text-1">Placing text</a></h3><p>Use <code>text()</code>, <code>textcentred()</code>, and <code>textright()</code> to place text. <code>textpath()</code> converts the text into  a graphic path suitable for further manipulations.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.text" href="#Luxor.text"><code>Luxor.text</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">text(str)
text(str, x, y)
text(str, pt)</code></pre><p>Draw the text in the string <code>str</code> at <code>x</code>/<code>y</code> or <code>pt</code>, placing the start of the string at the point. If you omit the point, it&#39;s placed at <code>0/0</code>.</p><p>In Luxor, placing text doesn&#39;t affect the current point.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L978-L987">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.textcentred" href="#Luxor.textcentred"><code>Luxor.textcentred</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">textcentred(str)
textcentred(str, x, y)
textcentred(str, pt)</code></pre><p>Draw text in the string <code>str</code> centered at <code>x</code>/<code>y</code> or <code>pt</code>. If you omit the point, it&#39;s placed at 0/0.</p><p>Text doesn&#39;t affect the current point!</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L998-L1007">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.textright" href="#Luxor.textright"><code>Luxor.textright</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">textright(str)
textright(str, x, y)
textright(str, pt)</code></pre><p>Draw text in the string <code>str</code> right-aligned at <code>x</code>/<code>y</code> or <code>pt</code>. If you omit the point, it&#39;s placed at 0/0.</p><p>Text doesn&#39;t affect the current point!</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L1021-L1030">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.textpath" href="#Luxor.textpath"><code>Luxor.textpath</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">textpath(t)</code></pre><p>Convert the text in string <code>t</code> to a new path, for subsequent filling/stroking etc...</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L1039-L1043">source</a><br/></section><h3><a class="nav-anchor" id="Fonts-1" href="#Fonts-1">Fonts</a></h3><p>Use <code>fontface(fontname)</code> to choose a font, and <code>fontsize(n)</code> to set font size in points.</p><p>The <code>textextents(str)</code> function gets an array of dimensions of the string <code>str</code>, given the current font.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.fontface" href="#Luxor.fontface"><code>Luxor.fontface</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">fontface(fontname)</code></pre><p>Select a font to use. If the font is unavailable, it defaults to Helvetica/San Francisco (on macOS).</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L928-L934">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.fontsize" href="#Luxor.fontsize"><code>Luxor.fontsize</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">fontsize(n)</code></pre><p>Set the font size to <code>n</code> points. Default is 10pt.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L937-L943">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.textextents" href="#Luxor.textextents"><code>Luxor.textextents</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">textextents(str)</code></pre><p>Return the measurements of the string <code>str</code> when set using the current font settings:</p><ul><li><p>x_bearing</p></li><li><p>y_bearing</p></li><li><p>width</p></li><li><p>height</p></li><li><p>x_advance</p></li><li><p>y_advance</p></li></ul><p>The bearing is the displacement from the reference point to the upper-left corner of the bounding box. It is often zero or a small positive value for x displacement, but can be negative x for characters like j; it&#39;s almost always a negative value for y displacement.</p><p>The width and height then describe the size of the bounding box. The advance takes you to the suggested reference point for the next letter. Note that bounding boxes for subsequent blocks of text can overlap if the bearing is negative, or the advance is smaller than the width would suggest.</p><p>Example:</p><pre><code class="language-none">textextents(&quot;R&quot;)</code></pre><p>returns</p><pre><code class="language-none">[1.18652; -9.68335; 8.04199; 9.68335; 9.74927; 0.0]</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L946-L974">source</a><br/></section><h3><a class="nav-anchor" id="Text-on-a-curve-1" href="#Text-on-a-curve-1">Text on a curve</a></h3><p>Use <code>textcurve(str)</code> to draw a string <code>str</code> on a circular arc or spiral.</p><p><img src="figures/text-spiral.png" alt="text on a curve or spiral"/></p><pre><code class="language-julia">  using Luxor, Colors
  Drawing(1800, 1800, &quot;/tmp/text-spiral.png&quot;)
  fontsize(18)
  fontface(&quot;LucidaSansUnicode&quot;)
  origin()
  background(&quot;ivory&quot;)
  sethue(&quot;royalblue4&quot;)
  textstring = join(names(Base), &quot; &quot;)
  textcurve(&quot;this spiral contains every word in julia names(Base): &quot; * textstring, -pi/2,
    800, 0, 0,
    spiral_in_out_shift = -18.0,
    letter_spacing = 0,
    spiral_ring_step = 0)

  fontsize(35)
  fontface(&quot;Agenda-Black&quot;)
  textcentred(&quot;julia names(Base)&quot;, 0, 0)
  finish()
  preview()</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.textcurve" href="#Luxor.textcurve"><code>Luxor.textcurve</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Place a string of text on a curve. It can spiral in or out.</p><pre><code class="language-none">textcurve(the_text,
          start_angle,
          start_radius,
          x_pos = 0,
          y_pos = 0;
          # optional keyword arguments:
          spiral_ring_step = 0,   # step out or in by this amount
          letter_spacing = 0,     # tracking/space between chars, tighter is (-), looser is (+)
          spiral_in_out_shift = 0 # + values go outwards, - values spiral inwards
          )</code></pre><p><code>start_angle</code> is relative to +ve x-axis, arc/circle is centred on <code>(x_pos,y_pos)</code> with radius <code>start_radius</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/c97600c2ad84c7e1d7eefd088ba7a1d35df0209d/src/Luxor.jl#L1048-L1066">source</a><br/></section><h3><a class="nav-anchor" id="Text-clipping-1" href="#Text-clipping-1">Text clipping</a></h3><p>You can use newly-created text paths as a clipping region - here the text paths are &#39;filled&#39; with names of randomly chosen Julia functions:</p><p><img src="figures/text-path-clipping.png" alt="text clipping"/></p><pre><code class="language-julia">    using Luxor, Colors

    currentwidth = 1250 # pts
    currentheight = 800 # pts
    Drawing(currentwidth, currentheight, &quot;/tmp/text-path-clipping.png&quot;)

    origin()
    background(&quot;darkslategray3&quot;)

    fontsize(600)                             # big fontsize to use for clipping
    fontface(&quot;Agenda-Black&quot;)
    str = &quot;julia&quot;                             # string to be clipped
    w, h = textextents(str)[3:4]              # get width and height

    translate(-(currentwidth/2) + 50, -(currentheight/2) + h)

    textpath(str)                             # make text into a path
    setline(3)
    setcolor(&quot;black&quot;)
    fillpreserve()                            # fill but keep
    clip()                                    # and use for clipping region

    fontface(&quot;Monaco&quot;)
    fontsize(10)
    namelist = map(x-&gt;string(x), names(Base)) # get list of function names in Base.

    x = -20
    y = -h
    while y &lt; currentheight
        sethue(rand(7:10)/10, rand(7:10)/10, rand(7:10)/10)
        s = namelist[rand(1:end)]
        text(s, x, y)
        se = textextents(s)
        x += se[5]                            # move to the right
        if x &gt; w
           x = -20                            # next row
           y += 10
        end
    end

    finish()
    preview()</code></pre><footer><hr/><a class="previous" href="examples.html"><span class="direction">Previous</span><span class="title">A few examples</span></a><a class="next" href="transforms.html"><span class="direction">Next</span><span class="title">Transforms and matrices</span></a></footer></article></body></html>
