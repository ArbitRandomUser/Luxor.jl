<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Transforms and matrices · Luxor documentation</title><link href="assets/documenter.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script></head><body><nav class="toc"><a href><img class="logo" src="assets/logo.png" alt="Luxor logo"/></a><h1>Luxor</h1><form class="search" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Introduction to Luxor</a></li><li><a class="toctext" href="examples.html">A few examples</a></li><li><a class="toctext" href="basics.html">Basic graphics</a></li><li class="current"><a class="toctext" href="transforms.html">Transforms and matrices</a><ul class="internal"></ul></li><li><a class="toctext" href="clipping.html">Clipping</a></li><li><a class="toctext" href="images.html">Images</a></li><li><a class="toctext" href="turtle.html">Turtle graphics</a></li><li><a class="toctext" href="moreexamples.html">More examples</a></li><li><a class="toctext" href="functionindex.html">Index</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="transforms.html">Transforms and matrices</a></li></ul><a class="edit-page" href="https://github.com/cormullion/Luxor.jl/tree/22d83c637a93f0991a50bdf5656f5862a3d9f22e/docs/src/transforms.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><h1><a class="nav-anchor" id="Transforms-and-matrices-1" href="#Transforms-and-matrices-1">Transforms and matrices</a></h1><p>For basic transformations of the drawing space, use <code>scale(sx, sy)</code>, <code>rotate(a)</code>, and <code>translate(tx, ty)</code>.</p><p><code>translate()</code> shifts the current 0/0 point by the specified amounts in x and y. It&#39;s relative and cumulative, rather than absolute:</p><div><pre><code class="language-julia">origin()
for i in range(0, 30, 6)
  sethue(Colors.HSV(i, 1, 1))
  setopacity(0.5)
  circle(0, 0, 20, :fillpreserve)
  setcolor(&quot;black&quot;)
  stroke()
  translate(25, 0)
end</code></pre></div><p><img src="figures/translate.png" alt="translate"/></p><p><code>scale()</code> scales the current workspace by the specified amounts in x and y. Again, it&#39;s relative to the current scale, not to the document&#39;s original.</p><div><pre><code class="language-julia">origin()
for i in range(0, 30, 6)
  sethue(Colors.HSV(i, 1, 1))
  circle(0, 0, 90, :fillpreserve)
  setcolor(&quot;black&quot;)
  stroke()
  scale(0.8, 0.8)
end</code></pre></div><p><img src="figures/scale.png" alt="scale"/></p><p><code>rotate()</code> rotates the current workspace by the specifed amount about the current 0/0 point. It&#39;s relative to the previous rotation, not to the document&#39;s original.</p><div><pre><code class="language-julia">origin()
for i in 1:8
  randomhue()
  squircle(Point(40, 0), 20, 30, :fillpreserve)
  sethue(&quot;black&quot;)
  stroke()
  rotate(pi/4)
end</code></pre></div><p><img src="figures/rotate.png" alt="rotate"/></p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.scale" href="#Base.scale"><code>Base.scale</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Scale subsequent drawing in x and y.</p><p>Example:</p><pre><code class="language-none">scale(0.2, 0.3)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/22d83c637a93f0991a50bdf5656f5862a3d9f22e/src/Luxor.jl#L830-L837">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.rotate" href="#Luxor.rotate"><code>Luxor.rotate</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Rotate subsequent drawing by <code>a</code> radians clockwise.</p><pre><code class="language-none">rotate(a)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/22d83c637a93f0991a50bdf5656f5862a3d9f22e/src/Luxor.jl#L841-L846">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.translate" href="#Luxor.translate"><code>Luxor.translate</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Translate to new location.</p><pre><code class="language-none">translate(x, y)</code></pre><p>or</p><pre><code class="language-none">translate(point)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/22d83c637a93f0991a50bdf5656f5862a3d9f22e/src/Luxor.jl#L850-L858">source</a><br/></section><p>The current matrix is a six element array, perhaps like this:</p><pre><code class="language-none">[1, 0, 0, 1, 0, 0]</code></pre><p><code>getmatrix()</code> gets the current matrix, <code>setmatrix(a)</code> sets the matrix to array <code>a</code>, and  <code>transform(a)</code> transforms the current matrix by &#39;multiplying&#39; it with matrix <code>a</code>.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.getmatrix" href="#Luxor.getmatrix"><code>Luxor.getmatrix</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Get the current matrix.</p><pre><code class="language-none">getmatrix()</code></pre><p>Return current Cairo matrix as an array. In Cairo and Luxor, a matrix is an array of 6 float64 numbers:</p><ul><li><p>xx component of the affine transformation</p></li><li><p>yx component of the affine transformation</p></li><li><p>xy component of the affine transformation</p></li><li><p>yy component of the affine transformation</p></li><li><p>x0 translation component of the affine transformation</p></li><li><p>y0 translation component of the affine transformation</p></li></ul><p>Some basic matrix transforms:</p><ul><li><p>translate(dx,dy) =	  transform([1,  0, 0,  1, dx, dy])                 shift by</p></li><li><p>scale(fx, fy)    =    transform([fx, 0, 0, fy,  0, 0])                  scale by</p></li><li><p>rotate(A)        =    transform([c, s, -c, c,   0, 0])                  rotate to A radians</p></li><li><p>x-skew(a)        =    transform([1,  0, tan(a), 1,   0, 0])             xskew by A</p></li><li><p>y-skew(a)        =    transform([1, tan(a), 0, 1, 0, 0])                yskew by A</p></li><li><p>flip HV          =    transform([fx, 0, 0, fy, cx(<em>1-fx), cy</em> (fy-1)])  flip</p></li></ul><p>When a drawing is first created, the matrix looks like this:</p><pre><code class="language-none">getmatrix() = [1.0, 0.0, 0.0, 1.0, 0.0, 0.0]</code></pre><p>When the origin is moved to 400/400, it looks like this:</p><pre><code class="language-none">getmatrix() = [1.0, 0.0, 0.0, 1.0, 400.0, 400.0]</code></pre><p>To reset the matrix to the original:</p><pre><code class="language-none">setmatrix([1.0, 0.0, 0.0, 1.0, 0.0, 0.0])</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/22d83c637a93f0991a50bdf5656f5862a3d9f22e/src/Luxor.jl#L1242-L1282">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.setmatrix" href="#Luxor.setmatrix"><code>Luxor.setmatrix</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Change the current Cairo matrix to matrix <code>m</code>.</p><pre><code class="language-none">setmatrix(m::Array)</code></pre><p>Use <code>getmatrix()</code> to get the current matrix.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/22d83c637a93f0991a50bdf5656f5862a3d9f22e/src/Luxor.jl#L1288-L1294">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.transform" href="#Luxor.transform"><code>Luxor.transform</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Modify the current matrix by multiplying it by matrix <code>a</code>.</p><pre><code class="language-none">transform(a::Array)</code></pre><p>For example, to skew the current state by 45 degrees in x and move by 20 in y direction:</p><pre><code class="language-none">transform([1, 0, tand(45), 1, 0, 20])</code></pre><p>Use <code>getmatrix()</code> to get the current matrix.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/22d83c637a93f0991a50bdf5656f5862a3d9f22e/src/Luxor.jl#L1310-L1320">source</a><br/></section><footer><hr/><a class="previous" href="basics.html"><span class="direction">Previous</span><span class="title">Basic graphics</span></a><a class="next" href="clipping.html"><span class="direction">Next</span><span class="title">Clipping</span></a></footer></article></body></html>
