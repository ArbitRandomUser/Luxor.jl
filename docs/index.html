<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Luxor · Luxor documentation</title><link href="assets/documenter.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script></head><body><nav class="toc"><a href><img class="logo" src="assets/logo.png" alt="Luxor logo"/></a><h1>Luxor</h1><form class="search" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href="index.html">Luxor</a><ul class="internal"><li><a class="toctext" href="#Current-status-1">Current status</a></li><li><a class="toctext" href="#Installation-and-basic-usage-1">Installation and basic usage</a></li><li><a class="toctext" href="#The-basic-\"Hello-World\"-1">The basic &quot;Hello World&quot;</a></li><li><a class="toctext" href="#A-slightly-more-interesting-example-1">A slightly more interesting example</a></li><li class="toplevel"><a class="toctext" href="#Overview-1">Overview</a></li><li><a class="toctext" href="#Types-1">Types</a></li><li><a class="toctext" href="#Drawings-and-files-1">Drawings and files</a></li><li><a class="toctext" href="#Axes-and-backgrounds-1">Axes and backgrounds</a></li><li class="toplevel"><a class="toctext" href="#Basic-drawing-1">Basic drawing</a></li><li><a class="toctext" href="#Simple-shapes-1">Simple shapes</a></li><li><a class="toctext" href="#Lines-and-arcs-1">Lines and arcs</a></li><li><a class="toctext" href="#Paths-1">Paths</a></li><li><a class="toctext" href="#Color-and-opacity-1">Color and opacity</a></li><li><a class="toctext" href="#Styles-1">Styles</a></li><li><a class="toctext" href="#Polygons-and-shapes-1">Polygons and shapes</a></li><li><a class="toctext" href="#Text-and-fonts-1">Text and fonts</a></li><li class="toplevel"><a class="toctext" href="#Transforms-and-matrices-1">Transforms and matrices</a></li><li class="toplevel"><a class="toctext" href="#Clipping-1">Clipping</a></li><li class="toplevel"><a class="toctext" href="#Images-1">Images</a></li><li class="toplevel"><a class="toctext" href="#Turtle-graphics-1">Turtle graphics</a></li><li class="toplevel"><a class="toctext" href="#More-examples-1">More examples</a></li><li><a class="toctext" href="#Sierpinski-triangle-1">Sierpinski triangle</a></li><li><a class="toctext" href="#Luxor-logo-1">Luxor logo</a></li><li class="toplevel"><a class="toctext" href="#Index-1">Index</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href="index.html">Luxor</a></li></ul><a class="edit-page" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/docs/src/index.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><h1><a class="nav-anchor" id="Luxor-1" href="#Luxor-1">Luxor</a></h1><p>Luxor provides some some basic vector drawing functions and some utilities for working with shapes, polygons, clipping masks, PNG images, and turtle graphics. It&#39;s jsut a dusting of syntactic sugar on Julia&#39;s Cairo graphics package (which should also be installed).</p><p><img src="examples/tiled-images.png" alt="\"tiled images\""/></p><p>The idea of Luxor is that it&#39;s easier to use than <a href="https://github.com/JuliaLang/Cairo.jl">Cairo.jl</a>, with shorter names, fewer underscores, default contexts, and simplified functions. It&#39;s for when you just want to draw something without too much ceremony. If you&#39;ve ever hacked on a PostScript file, you should feel right at home (only without the reverse Polish notation, obviously).</p><p>For a more powerful (but less easy to use) graphics environment, try <a href="http://composejl.org">Compose.jl</a>. <a href="https://github.com/JuliaGraphics/Colors.jl">Colors.jl</a> provides excellent color definitions and is also required.</p><h2><a class="nav-anchor" id="Current-status-1" href="#Current-status-1">Current status</a></h2><p>It&#39;s been updated for Julia version 0.5 and for the new Colors.jl. It needs more testing on Unix and Windows platforms.</p><h2><a class="nav-anchor" id="Installation-and-basic-usage-1" href="#Installation-and-basic-usage-1">Installation and basic usage</a></h2><p>To install:</p><pre><code class="language-none">Pkg.clone(&quot;https://github.com/cormullion/Luxor.jl&quot;)</code></pre><p>and to use:</p><pre><code class="language-none">using Luxor</code></pre><h2><a class="nav-anchor" id="The-basic-\"Hello-World\"-1" href="#The-basic-\"Hello-World\"-1">The basic &quot;Hello World&quot;</a></h2><p>Here&#39;s a simple &quot;Hello world&quot;:</p><p><img src="examples/hello-world.png" alt="\"Hello world\""/></p><pre><code class="language-julia">using Luxor, Colors
Drawing(1000, 1000, &quot;/tmp/hello-world.png&quot;)
origin()
sethue(&quot;red&quot;)
fontsize(50)
text(&quot;hello world&quot;)
finish()
preview()</code></pre><p>The <code>Drawing(1000, 1000, &quot;/tmp/hello-world.png&quot;)</code> line defines the size of the image and the location of the finished image when it&#39;s saved.</p><p><code>origin()</code> moves the 0/0 point to the centre of the drawing surface (by default it&#39;s at the top left corner). Because we&#39;re using <code>Colors.jl</code>, we can specify colors by name.</p><p><code>text()</code> places text. It&#39;s placed at the current 0/0 if you don&#39;t specify otherwise.</p><p><code>finish()</code> completes the drawing and saves the image in the file. <code>preview()</code> tries to open the saved file using some other application (eg on MacOS X, Preview).</p><h2><a class="nav-anchor" id="A-slightly-more-interesting-example-1" href="#A-slightly-more-interesting-example-1">A slightly more interesting example</a></h2><p><img src="examples/basic-test.png" alt="Luxor test"/></p><pre><code class="language-julia">using Luxor, Colors
Drawing(1200, 1400, &quot;/tmp/basic-test.png&quot;) # or PDF/SVG filename for PDF or SVG

origin()
background(&quot;purple&quot;)

setopacity(0.7)                      # opacity from 0 to 1
sethue(0.3,0.7,0.9)                  # sethue sets the color but doesn&#39;t change the opacity
setline(20)                          # line width

rect(-400,-400,800,800, :fill)       # or :stroke, :fillstroke, :clip
randomhue()
circle(0, 0, 460, :stroke)
circle(0,-200,400,:clip)             # a circular clipping mask above the x axis
sethue(&quot;gold&quot;)
setopacity(0.7)
setline(10)
for i in 0:pi/36:2pi - pi/36
    move(0, 0)
    line(cos(i) * 600, sin(i) * 600 )
    stroke()
end
clipreset()                           # finish clipping/masking
fontsize(60)
setcolor(&quot;turquoise&quot;)
fontface(&quot;Optima-ExtraBlack&quot;)
textwidth = textextents(&quot;Luxor&quot;)[5]
textcentred(&quot;Luxor&quot;, 0, currentdrawing.height/2 - 400)
fontsize(18)
fontface(&quot;Avenir-Black&quot;)

# text on curve starting at angle 0 rads centered on origin with radius 550
textcurve(&quot;THIS IS TEXT ON A CURVE &quot; ^ 14, 0, 550, Point(0, 0))
finish()
preview() # on macOS, opens in Preview</code></pre><h1><a class="nav-anchor" id="Overview-1" href="#Overview-1">Overview</a></h1><h2><a class="nav-anchor" id="Types-1" href="#Types-1">Types</a></h2><p>The two main defined types are the <code>Point</code> and the <code>Drawing</code>. The Point type holds two coordinates, the x and y:</p><pre><code class="language-none">Point(12.0, 13.0)</code></pre><h2><a class="nav-anchor" id="Drawings-and-files-1" href="#Drawings-and-files-1">Drawings and files</a></h2><p>To create a drawing, and optionally specify the filename and type, and dimensions, use the <code>Drawing</code> function.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.Drawing" href="#Luxor.Drawing"><code>Luxor.Drawing</code></a> — <span class="docstring-category">Type</span>.</div><div><p>Create a new drawing, optionally specify file type and dimensions.</p><pre><code class="language-none">Drawing()</code></pre><p>creates a drawing, defaulting to PNG format, default filename &quot;/tmp/luxor-drawing.png&quot;, default size 800 pixels square.</p><pre><code class="language-none">Drawing(300,300)</code></pre><p>creates a drawing 300 by 300 pixels, defaulting to PNG format, default filename &quot;/tmp/luxor-drawing.png&quot;.</p><pre><code class="language-none">Drawing(300,300, &quot;/tmp/my-drawing.pdf&quot;)</code></pre><p>creates a PDF drawing in the file &quot;/tmp/my-drawing.pdf&quot;, 300 by 300 pixels.</p><pre><code class="language-none">Drawing(800,800, &quot;/tmp/my-drawing.svg&quot;)`</code></pre><p>creates an SVG drawing in the file &quot;/tmp/my-drawing.svg&quot;, 800 by 800 pixels.</p><pre><code class="language-none">Drawing(800,800, &quot;/tmp/my-drawing.eps&quot;)</code></pre><p>creates an EPS drawing in the file &quot;/tmp/my-drawing.eps&quot;, 800 by 800 pixels.</p><pre><code class="language-none">Drawing(&quot;A4&quot;, &quot;/tmp/my-drawing.pdf&quot;)</code></pre><p>creates a drawing in ISO A4 size in the file &quot;/tmp/my-drawing.pdf&quot;. Other sizes available are:  &quot;A0&quot;, &quot;A1&quot;, &quot;A2&quot;, &quot;A3&quot;, &quot;A4&quot;, &quot;A5&quot;, &quot;A6&quot;, &quot;Letter&quot;, &quot;Legal&quot;, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;. Append &quot;landscape&quot; to get the landscape version.</p><pre><code class="language-none">Drawing(&quot;A4landscape&quot;)</code></pre><p>Create the drawing A4 landscape size.</p><p>Note that PDF files seem to default to a white background, but PNG defaults to black. Might be a bug here somewhere...</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L134-L171">source</a><br/></section><p>To finish a drawing and close the file, use <code>finish()</code>, and, to launch an external application to view it, use <code>preview()</code>.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.finish" href="#Luxor.finish"><code>Luxor.finish</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">finish()</code></pre><p>Finish the drawing, and close the file. The filename is still available in <code>currentdrawing.filename</code>, and you may be able to open it using <code>preview()</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L182-L187">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.preview" href="#Luxor.preview"><code>Luxor.preview</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">preview()</code></pre><p>On macOS, open the file, which probably uses the default, Preview.app. On Unix, open the file with xdg-open. On Windows, pass the filename to the shell.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L199-L205">source</a><br/></section><p>The global variable <code>currentdrawing</code> of type Drawing holds a few parameters:</p><pre><code class="language-none">julia&gt; fieldnames(currentdrawing)
10-element Array{Symbol,1}:
:width
:height
:filename
:surface
:cr
:surfacetype
:redvalue
:greenvalue
:bluevalue
:alpha</code></pre><p>The drawing area (or any other area) can be divided into tiles (rows and columns) using the <code>PageTiler</code> iterator.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.PageTiler" href="#Luxor.PageTiler"><code>Luxor.PageTiler</code></a> — <span class="docstring-category">Type</span>.</div><div><p>A PageTiler is an iterator that returns the <code>x</code>/<code>y</code> coordinates of a set of imaginary tiles that divide up a rectangular space into rows and columns.</p><pre><code class="language-none">pagetiles = PageTiler(areawidth, areaheight, nrows, ncols, margin=20)</code></pre><p>where width, height is the dimensions of the area to be tiled, nrows/ncols is the number of rows and columns required, and margin is applied to area before the tile sizes are calculated.</p><p>Access the calculated tile width and height like this:</p><pre><code class="language-none">pagetiles = PageTiler(1000, 800, 4, 5, margin=20)
for (xpos, ypos, n) in pagetiles
  ellipse(xpos, ypos, pagetiles.tilewidth, pagetiles.tileheight, :fill)
end</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/PageTiler.jl#L1-L17">source</a><br/></section><h2><a class="nav-anchor" id="Axes-and-backgrounds-1" href="#Axes-and-backgrounds-1">Axes and backgrounds</a></h2><p>The origin (0/0) is at the top left, x axis runs left to right, y axis runs top to bottom.</p><p>The <code>origin()</code> function moves the 0/0 point. The <code>axes()</code> function draws a couple of lines to indicate the current axes. <code>background()</code> fills the entire image with a color.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.background" href="#Luxor.background"><code>Luxor.background</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">background(color)</code></pre><p>Fill the canvas with color. (if Colors.jl is installed).</p><p>Examples:</p><pre><code class="language-none">background(&quot;antiquewhite&quot;)
background(&quot;ivory&quot;)
background(Colors.RGB(0, 0, 0))
background(Colors.Luv(20, -20, 30))</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L261-L272">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.axes" href="#Luxor.axes"><code>Luxor.axes</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Draw two axes lines starting at 0/0 and continuing out along the current positive x and y axes.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L241-L243">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.origin" href="#Luxor.origin"><code>Luxor.origin</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">origin()</code></pre><p>Set the 0/0 origin at the center of the drawing (otherwise it will stay at the top left corner).</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L216-L221">source</a><br/></section><h1><a class="nav-anchor" id="Basic-drawing-1" href="#Basic-drawing-1">Basic drawing</a></h1><p>The underlying Cairo drawing model is similar to PostScript: paths can be filled and/or stroked, using the current graphics state, which specifies colors, line thicknesses and patterns, and opacity. You modify the drawing space by transforming/rotating/scaling it.</p><p>Many drawing functions have an <em>action</em> argument. This can be <code>:nothing</code>, <code>:fill</code>, <code>:stroke</code>, <code>:fillstroke</code>, <code>:fillpreserve</code>, <code>:strokepreserve</code>, <code>:clip</code>. The default is <code>:nothing</code>.</p><p>Positions are usually specified either by x and y coordinates or a <code>Point(x, y)</code>. Angles are usually measured from the positive x-axis to the positive y-axis (which points &#39;down&#39; the page or canvas) in radians, so clockwise.</p><h2><a class="nav-anchor" id="Simple-shapes-1" href="#Simple-shapes-1">Simple shapes</a></h2><p>Functions for drawing shapes include <code>circle()</code>, <code>ellipse()</code>, <code>arc()</code>, <code>carc()</code>, <code>curve()</code>, <code>sector()</code>, <code>rect()</code>, <code>pie()</code>, and <code>box()</code>.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.circle" href="#Luxor.circle"><code>Luxor.circle</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Draw a circle centred at <code>x</code>/<code>y</code>.</p><pre><code class="language-none">circle(x, y, r, action)</code></pre><p><code>action</code> is one of the actions applied by <code>do_action</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L406-L412">source</a><br/><div><p>Draw a circle centred at <code>pt</code>.</p><pre><code class="language-none">circle(pt, r, action)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L421-L426">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.ellipse" href="#Luxor.ellipse"><code>Luxor.ellipse</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Draw an ellipse, centered at xc/yc, with width w, and height h.</p><pre><code class="language-none">ellipse(xc, yc, w, h, action=:none)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L430-L434">source</a><br/><div><p>Draw an ellipse, centered at c, with width w, and height h.</p><pre><code class="language-none">ellipse(c, w, h, action=:none)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L453-L457">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.arc" href="#Luxor.arc"><code>Luxor.arc</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Add an arc to the current path from <code>angle1</code> to <code>angle2</code> going clockwise.</p><pre><code class="language-none">arc(xc, yc, radius, angle1, angle2, action=:nothing)</code></pre><p>Angles are defined relative to the x-axis, positive clockwise.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L461-L467">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.carc" href="#Luxor.carc"><code>Luxor.carc</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Add an arc to the current path from <code>angle1</code> to <code>angle2</code> going counterclockwise.</p><pre><code class="language-none">carc(xc, yc, radius, angle1, angle2, action=:nothing)</code></pre><p>Angles are defined relative to the x-axis, positive clockwise.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L473-L479">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.curve" href="#Luxor.curve"><code>Luxor.curve</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Create a cubic Bézier spline curve.</p><pre><code class="language-none">curve(x1, y1, x2, y2, x3, y3)

curve(p1, p2, p3)</code></pre><p>The spline starts at the current position, finishing at <code>x3/y3</code> (<code>p3</code>), following two control points <code>x1/y1</code> (<code>p1</code>) and <code>x2/y2</code> (<code>p2</code>)</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L675-L685">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.sector" href="#Luxor.sector"><code>Luxor.sector</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">sector(innerradius, outerradius, startangle, endangle, action=:none)</code></pre><p>Draw a track/sector based at 0/0.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L529-L533">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.rect" href="#Luxor.rect"><code>Luxor.rect</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Create a rectangle with one corner at (<code>xmin</code>/<code>ymin</code>) with width <code>w</code> and height <code>h</code> and do an action.</p><pre><code class="language-none">rect(xmin, ymin, w, h, action)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L485-L490">source</a><br/><div><p>Create a rectangle with one corner at <code>cornerpoint</code> with width <code>w</code> and height <code>h</code> and do an action.</p><pre><code class="language-none">rect(cornerpoint, w, h, action)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L500-L505">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.pie" href="#Luxor.pie"><code>Luxor.pie</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">pie(x, y, radius, startangle, endangle, action=:none)</code></pre><p>Draw a pie centered at current <code>x</code>/<code>y</code>.</p><p>Angles start at the positive x-axis and are measure clockwise.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L545-L551">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.box" href="#Luxor.box"><code>Luxor.box</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Create a rectangle between two points and do an action.</p><pre><code class="language-none">box(cornerpoint1, cornerpoint2, action=:nothing)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L510-L515">source</a><br/><div><p>Create a rectangle between the first two points of an array of Points.</p><pre><code class="language-none">box(points::Array, action=:nothing)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L520-L524">source</a><br/></section><h2><a class="nav-anchor" id="Lines-and-arcs-1" href="#Lines-and-arcs-1">Lines and arcs</a></h2><p>There is a &#39;current position&#39; which you can set with <code>move()</code>, and use implicitly in functions like <code>line()</code> and <code>text()</code>.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.move" href="#Luxor.move"><code>Luxor.move</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Move to a point.</p><pre><code class="language-none">move(x, y)
move(pt)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L617-L622">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.rmove" href="#Luxor.rmove"><code>Luxor.rmove</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Move by an amount from the current point. Move relative to current position by <code>x</code> and <code>y</code>:</p><pre><code class="language-none">rmove(x, y)</code></pre><p>Move relative to current position by the <code>pt</code>&#39;s x and y:</p><pre><code class="language-none">rmove(pt)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L626-L634">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.line" href="#Luxor.line"><code>Luxor.line</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Create a line from the current position to the <code>x/y</code> position and optionally apply an action:</p><pre><code class="language-none">line(x, y)

line(x, y, :action)

line(pt)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L638-L647">source</a><br/><div><p>Make a line between two points, <code>pt1</code> and <code>pt2</code>.</p><pre><code class="language-none">line(pt1::Point, pt2::Point, action=:nothing)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L651-L656">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.rline" href="#Luxor.rline"><code>Luxor.rline</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Create a line relative to the current position to the <code>x/y</code> position and optionally apply an action:</p><pre><code class="language-none">rline(x, y)

rline(x, y, :action)

rline(pt)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L663-L671">source</a><br/></section><h3><a class="nav-anchor" id="Arrows-1" href="#Arrows-1">Arrows</a></h3><p>You can draw lines with arrows at the end with <code>arrow()</code>.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.arrow" href="#Luxor.arrow"><code>Luxor.arrow</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Draw a line between two points and add an arrowhead at the end. The arrowhead length is the length of the side of the arrow&#39;s tip, and arrow head angle is the angle between the side of the tip and the shaft of the arrow.</p><pre><code class="language-none">arrow(startpoint::Point, endpoint::Point; arrowheadlength=10, arrowheadangle=pi/8)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/arrows.jl#L1-L8">source</a><br/><div><p>Draw a curved arrow, an arc centered at <code>centerpos</code> starting at <code>startangle</code> and ending at <code>endangle</code> with an arrowhead at the end. Angles are measured clockwise from the positive x-axis.</p><pre><code class="language-none">arrow(centerpos::Point, radius, startangle, endangle; arrowheadlength=10, arrowheadangle=pi/8)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/arrows.jl#L47-L54">source</a><br/></section><h2><a class="nav-anchor" id="Paths-1" href="#Paths-1">Paths</a></h2><p>A path is a group of points. A path can have subpaths (which can form holes).</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.newpath" href="#Luxor.newpath"><code>Luxor.newpath</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">newpath()</code></pre><p>Create a new path. This is Cairo&#39;s <code>new_path()</code> function.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L287-L291">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.newsubpath" href="#Luxor.newsubpath"><code>Luxor.newsubpath</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">newsubpath()</code></pre><p>Create a new subpath of the current path. This is Cairo&#39;s <code>new_sub_path()</code> function. It can be used, for example, to make holes in shapes.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L294-L299">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.closepath" href="#Luxor.closepath"><code>Luxor.closepath</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">closepath()</code></pre><p>Close the current path. This is Cairo&#39;s <code>close_path()</code> function.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L302-L306">source</a><br/></section><p>The <code>getpath()</code> function get the current Cairo path as an array of element types and points. <code>getpathflat()</code> gets the current path as an array of type/points with curves flattened to line segments.</p><h2><a class="nav-anchor" id="Color-and-opacity-1" href="#Color-and-opacity-1">Color and opacity</a></h2><p>For color definitions and conversions, use Colors.jl. The difference between the <code>setcolor()</code> and <code>sethue()</code> functions is that <code>sethue()</code> is independent of alpha opacity, so you can change the hue without changing the current opacity value (this is similar to Mathematica).</p><h2><a class="nav-anchor" id="Styles-1" href="#Styles-1">Styles</a></h2><p>The <code>set-</code> functions control the width, end shapes, join behaviour and dash pattern:</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.setline" href="#Luxor.setline"><code>Luxor.setline</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Set the line width.</p><pre><code class="language-none">setline(n)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L565-L570">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.setlinecap" href="#Luxor.setlinecap"><code>Luxor.setlinecap</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Set the line ends. <code>s</code> can be &quot;butt&quot; (default), &quot;square&quot;, or &quot;round&quot;.</p><pre><code class="language-none">setlinecap(s)

setlinecap(&quot;round&quot;)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L573-L579">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.setlinejoin" href="#Luxor.setlinejoin"><code>Luxor.setlinejoin</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Set the line join, i.e. how to render the junction of two lines when stroking.</p><pre><code class="language-none">setlinejoin(&quot;round&quot;)
setlinejoin(&quot;miter&quot;)
setlinejoin(&quot;bevel&quot;)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L590-L596">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.setdash" href="#Luxor.setdash"><code>Luxor.setdash</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Set the dash pattern to one of: &quot;solid&quot;, &quot;dotted&quot;, &quot;dot&quot;, &quot;dotdashed&quot;, &quot;longdashed&quot;, &quot;shortdashed&quot;, &quot;dash&quot;, &quot;dashed&quot;, &quot;dotdotdashed&quot;, &quot;dotdotdotdashed&quot;</p><pre><code class="language-none">setlinedash(&quot;dot&quot;)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L607-L612">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.fillstroke" href="#Luxor.fillstroke"><code>Luxor.fillstroke</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Fill and stroke the current path.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L351-L353">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.stroke" href="#Luxor.stroke"><code>Luxor.stroke</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Stroke the current path with the current line width, line join, line cap, and dash settings. The current path is then cleared.</p><pre><code class="language-none">stroke()</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L309-L315">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.fill" href="#Base.fill"><code>Base.fill</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Fill the current path with current settings. The current path is then cleared.</p><pre><code class="language-none">fill()</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L318-L323">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.strokepreserve" href="#Luxor.strokepreserve"><code>Luxor.strokepreserve</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Stroke the current path with current line width, line join, line cap, and dash settings, but then keep the path current.</p><pre><code class="language-none">strokepreserve()</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L334-L340">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.fillpreserve" href="#Luxor.fillpreserve"><code>Luxor.fillpreserve</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Fill the current path with current settings, but then keep the path current.</p><pre><code class="language-none">fillpreserve()</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L343-L348">source</a><br/></section><p><code>gsave()</code> saves a copy of the current graphics settings (current axis rotation, position, scale, line and text settings, and so on). When the next <code>grestore()</code> is called, all changes you&#39;ve made to the graphics settings will be discarded, and they&#39;ll return to how they were when you used <code>gsave()</code>. <code>gsave()</code> and <code>grestore()</code> should always be balanced in pairs.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.gsave" href="#Luxor.gsave"><code>Luxor.gsave</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Save the current graphics state on the stack.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L694-L696">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.grestore" href="#Luxor.grestore"><code>Luxor.grestore</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Replace the current graphics state with the one on top of the stack.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L705-L707">source</a><br/></section><h2><a class="nav-anchor" id="Polygons-and-shapes-1" href="#Polygons-and-shapes-1">Polygons and shapes</a></h2><h3><a class="nav-anchor" id="Regular-polygons-(\"ngons\")-1" href="#Regular-polygons-(\"ngons\")-1">Regular polygons (&quot;ngons&quot;)</a></h3><p>You can make regular polygons — from triangles, pentagons, hexagons, septagons, heptagons, octagons, nonagons, decagons, and on-and-on-agons — with <code>ngon()</code> and <code>ngonv()</code>. <code>ngon()</code> makes the shapes: if you just want the raw points, use <code>ngonv</code>, which returns an array of points instead:</p><p><img src="examples/n-gon.png" alt="n-gons"/></p><pre><code class="language-julia">using Luxor, Colors
Drawing(1200, 1400)

origin()
cols = diverging_palette(60, 120, 20) # hue 60 to hue 120
background(cols[1])
setopacity(0.7)
setline(2)

ngon(0, 0, 500, 8, 0, :clip)

for y in -500:50:500
  for x in -500:50:500
    setcolor(cols[rand(1:20)])
    ngon(x, y, rand(20:25), rand(3:12), 0, :fill)
    setcolor(cols[rand(1:20)])
    ngon(x, y, rand(10:20), rand(3:12), 0, :stroke)
  end
end

finish()
preview()</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.ngon" href="#Luxor.ngon"><code>Luxor.ngon</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Draw a regular polygon centred at <code>x</code>, <code>y</code>:</p><pre><code class="language-none">ngon(x, y, radius, sides=5, orientation=0, action=:nothing; close=true, reversepath=false)</code></pre><p>Use <code>ngonv()</code> to return the points of a polygon.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/polygons.jl#L218-L224">source</a><br/><div><p>Draw a regular polygon centred at <code>p</code>:</p><pre><code class="language-none">ngon(centerpos, radius, sides=5, orientation=0, action=:nothing; close=true, reversepath=false)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/polygons.jl#L229-L234">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.ngonv" href="#Luxor.ngonv"><code>Luxor.ngonv</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Return the vertices of a regular n-sided polygon centred at <code>x</code>, <code>y</code>:</p><pre><code class="language-none">ngonv(x, y, radius, sides, orientation)</code></pre><p><code>ngon()</code> uses the shapes: if you just want the raw points, use <code>ngonv</code>, which returns an array of points instead. Compare:</p><pre><code class="language-julia">ngonv(0, 0, 4, 4, 0) # returns the polygon&#39;s points:

    4-element Array{Luxor.Point,1}:
    Luxor.Point(2.4492935982947064e-16,4.0)
    Luxor.Point(-4.0,4.898587196589413e-16)
    Luxor.Point(-7.347880794884119e-16,-4.0)
    Luxor.Point(4.0,-9.797174393178826e-16)

ngon(0, 0, 4, 4, 0, :close) # draws a polygon</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/polygons.jl#L186-L204">source</a><br/><div><p>Return the vertices of a regular polygon centred at point <code>p</code>:</p><pre><code class="language-none">ngonv(pt, radius, sides=5, orientation=0)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/polygons.jl#L210-L214">source</a><br/></section><h3><a class="nav-anchor" id="Polygons-1" href="#Polygons-1">Polygons</a></h3><p>A polygon is an array of Points. Use poly() to add them, or randompointarray() to create a random list of Points.</p><p>Polygons can contain holes. The <code>reversepath</code> keyword changes the direction of the polygon. The following piece of code uses <code>ngon()</code> to make two polygons, the second forming a hole in the first, to make a hexagonal bolt shape:</p><pre><code class="language-none">ngon(0, 0, 60, 6, 0, :path)
newsubpath()
ngon(0, 0, 40, 6, 0, :path, reversepath=true)
fillstroke()</code></pre><p>Polygons can be simplified using the Douglas-Peucker algorithm (non-recursive version), via <code>simplify()</code>.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.simplify" href="#Luxor.simplify"><code>Luxor.simplify</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Simplify a polygon:</p><pre><code class="language-none">simplify(pointlist::Array, detail)</code></pre><p><code>detail</code> is probably the smallest permitted distance between two points.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/polygons.jl#L174-L180">source</a><br/></section><p>There are some experimental polygon functions. These don&#39;t work well for polygons that aren&#39;t simple or where the sides intersect each other.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.polysplit" href="#Luxor.polysplit"><code>Luxor.polysplit</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Split a polygon into two where it intersects with a line:</p><pre><code class="language-none">polysplit(p, p1, p2)</code></pre><p>This doesn&#39;t always work, of course. (Tell me you&#39;re not surprised.) For example, a polygon the shape of the letter &quot;E&quot; might end up being divided into more than two parts.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/polygons.jl#L331-L338">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.polysortbydistance" href="#Luxor.polysortbydistance"><code>Luxor.polysortbydistance</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Sort a polygon by finding the nearest point to the starting point, then the nearest point to that, and so on.</p><pre><code class="language-none">polysortbydistance(p, starting::Point)</code></pre><p>You can end up with convex (self-intersecting) polygons, unfortunately.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/polygons.jl#L115-L122">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.polysortbyangle" href="#Luxor.polysortbyangle"><code>Luxor.polysortbyangle</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Sort the points of a polygon into order. Points are sorted according to the angle they make with a specified point.</p><pre><code class="language-none">polysortbyangle(pointlist::Array, refpoint=minimum(pointlist))</code></pre><p>The <code>refpoint</code> can be chosen, but the minimum point is usually OK too:</p><pre><code class="language-none">polysortbyangle(parray, polycentroid(parray))</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/polygons.jl#L97-L106">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.polycentroid" href="#Luxor.polycentroid"><code>Luxor.polycentroid</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Find the centroid of simple polygon.</p><pre><code class="language-none">polycentroid(pointlist)</code></pre><p>Returns a point. This only works for simple (non-intersecting) polygons. Come on, this isn&#39;t a CAD system...! :)</p><p>You could test the point using <code>isinside()</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/polygons.jl#L48-L56">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.polybbox" href="#Luxor.polybbox"><code>Luxor.polybbox</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Find the bounding box of a polygon (array of points).</p><pre><code class="language-none">polybbox(pointlist::Array)</code></pre><p>Return the two opposite corners (suitable for <code>box()</code>, for example).</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/polygons.jl#L29-L35">source</a><br/></section><p>The <code>prettypoly()</code> function can place graphics at each vertex of a polygon. After the polygon action, the <code>vertex_action</code> is evaluated at each vertex. For example, to mark each vertex of a polygon with a circle scaled to 0.1:</p><pre><code class="language-none">prettypoly(pl, :fill, :(
                        scale(0.1, 0.1);
                        circle(0, 0, 10, :fill)
                       ),
           close=false)</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.prettypoly" href="#Luxor.prettypoly"><code>Luxor.prettypoly</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Draw the polygon defined by points in <code>pl</code>, possibly closing and reversing it, using the current parameters, and then evaluate (using <code>eval</code>, <em>shudder</em>) the expression at every vertex of the polygon. For example, you can mark each vertex of a polygon with a circle scaled to 0.1.</p><pre><code class="language-none">prettypoly(pointlist::Array, action = :nothing, vertex_action::Expr = :(); close=false, reversepath=false)</code></pre><p>Example:</p><p>prettypoly(pl, :fill, :(scale(0.1, 0.1);                           circle(0, 0, 10, :fill)                          ),              close=false)</p><p>The expression can&#39;t use definitions that are not in scope, eg you can&#39;t pass a variable in from the calling function and expect this function to know about it. Yes, not tidy...</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/polygons.jl#L379-L395">source</a><br/></section><p>The <code>isinside()</code> returns true if a point is inside a polygon.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.isinside" href="#Luxor.isinside"><code>Luxor.isinside</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Is a point <code>p</code> inside a polygon <code>pol</code>?</p><pre><code class="language-none">isinside(p, pol)</code></pre><p>Returns true or false.</p><p>This is an implementation of the Hormann-Agathos (2001) Point in Polygon algorithm</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/polygons.jl#L284-L292">source</a><br/></section><h3><a class="nav-anchor" id="Stars-1" href="#Stars-1">Stars</a></h3><p>Use <code>starv()</code> to return the vertices of a star, and <code>star()</code> to make a star.</p><p><img src="examples/stars.png" alt="stars"/></p><pre><code class="language-julia">using Luxor, Colors
w, h = 600, 600
Drawing(w, h, &quot;/tmp/stars.png&quot;)
origin()
cols = [RGB(rand(3)...) for i in 1:50]
background(&quot;grey20&quot;)
x = -w/2
for y in 100 * randn(h, 1)
    setcolor(cols[rand(1:end)])
    star(x, y, 10, rand(4:7), rand(3:7)/10, 0, :fill)
    x += 2
end
finish()
preview()</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.starv" href="#Luxor.starv"><code>Luxor.starv</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Make a star, returning its vertices:</p><pre><code class="language-none">starv(xcenter, ycenter, radius, npoints=5, ratio=0.5, orientation=0, close=true, reversepath=false)</code></pre><p>Use <code>star()</code> to draw a star.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/polygons.jl#L238-L244">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.star" href="#Luxor.star"><code>Luxor.star</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Draw a star:</p><pre><code class="language-none">star(xcenter, ycenter, radius, npoints, ratio=0.5, orientation=0, action=:nothing, close=true, reversepath=false)</code></pre><p>Use <code>starv()</code> to return the vertices of a star.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/polygons.jl#L263-L269">source</a><br/><div><p>Draw a star:</p><pre><code class="language-none">star(centerpos, radius, npoints=5, ratio=0.5, orientation=0, action=:nothing, close=true, reversepath=false)</code></pre><p>Use <code>starv()</code> to return the vertices of a star.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/polygons.jl#L274-L280">source</a><br/></section><h2><a class="nav-anchor" id="Text-and-fonts-1" href="#Text-and-fonts-1">Text and fonts</a></h2><h3><a class="nav-anchor" id="Placing-text-1" href="#Placing-text-1">Placing text</a></h3><p>Use <code>text()</code> and <code>textcentred()</code> to place text. <code>textpath()</code> converts the text into  a graphic path suitable for further manipulations.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.text" href="#Luxor.text"><code>Luxor.text</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">text(str, x, y)
text(str, pt)</code></pre><p>Draw the text in the string <code>str</code> at <code>x</code>/<code>y</code> or <code>pt</code>, placing the start of the string at the point. If you omit the point, it&#39;s placed at 0/0.</p><p>In Luxor, placing text doesn&#39;t affect the current point!</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L830-L838">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.textcentred" href="#Luxor.textcentred"><code>Luxor.textcentred</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">textcentred(str, x, y)
textcentred(str, pt)</code></pre><p>Draw text in the string <code>str</code> centered at <code>x</code>/<code>y</code> or <code>pt</code>. If you omit the point, it&#39;s placed at 0/0.</p><p>Text doesn&#39;t affect the current point!</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L849-L857">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.textpath" href="#Luxor.textpath"><code>Luxor.textpath</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">textpath(t)</code></pre><p>Convert the text in string <code>t</code> to a new path, for subsequent filling/stroking etc...</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L866-L870">source</a><br/></section><h3><a class="nav-anchor" id="Fonts-1" href="#Fonts-1">Fonts</a></h3><p>Use <code>fontface(fontname)</code> to choose a font, and <code>fontsize(n)</code> to set font size in points.</p><p>The <code>textextents(str)</code> function gets array of dimensions of the string <code>str</code>, given current font.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.fontface" href="#Luxor.fontface"><code>Luxor.fontface</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">fontface(fontname)</code></pre><p>Select a font to use. If the font is unavailable, it defaults to Helvetica/San Francisco (on macOS).</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L780-L786">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.fontsize" href="#Luxor.fontsize"><code>Luxor.fontsize</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">fontsize(n)</code></pre><p>Set the font size to <code>n</code> points. Default is 10pt.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L789-L795">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.textextents" href="#Luxor.textextents"><code>Luxor.textextents</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">textextents(str)</code></pre><p>Return the measurements of the string <code>str</code> when set using the current font settings:</p><ul><li><p>x_bearing</p></li><li><p>y_bearing</p></li><li><p>width</p></li><li><p>height</p></li><li><p>x_advance</p></li><li><p>y_advance</p></li></ul><p>The bearing is the displacement from the reference point to the upper-left corner of the bounding box. It is often zero or a small positive value for x displacement, but can be negative x for characters like j; it&#39;s almost always a negative value for y displacement.</p><p>The width and height then describe the size of the bounding box. The advance takes you to the suggested reference point for the next letter. Note that bounding boxes for subsequent blocks of text can overlap if the bearing is negative, or the advance is smaller than the width would suggest.</p><p>Example:</p><pre><code class="language-none">textextents(&quot;R&quot;)</code></pre><p>returns</p><pre><code class="language-none">[1.18652; -9.68335; 8.04199; 9.68335; 9.74927; 0.0]</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L798-L826">source</a><br/></section><h3><a class="nav-anchor" id="Text-on-a-curve-1" href="#Text-on-a-curve-1">Text on a curve</a></h3><p>Use <code>textcurve(str)</code> to draw a string <code>str</code> on a circular arc.</p><p><img src="examples/text-spiral.png" alt="text on a curve or spiral"/></p><pre><code class="language-julia">  using Luxor, Colors
  Drawing(1800, 1800, &quot;/tmp/text-spiral.png&quot;)
  fontsize(18)
  fontface(&quot;LucidaSansUnicode&quot;)
  origin()
  background(&quot;ivory&quot;)
  sethue(&quot;royalblue4&quot;)
  textstring = join(names(Base), &quot; &quot;)
  textcurve(&quot;this spiral contains every word in julia names(Base): &quot; * textstring, -pi/2,
    800, 0, 0,
    spiral_in_out_shift = -18.0,
    letter_spacing = 0,
    spiral_ring_step = 0)

  fontsize(35)
  fontface(&quot;Agenda-Black&quot;)
  textcentred(&quot;julia names(Base)&quot;, 0, 0)
  finish()
  preview()</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.textcurve" href="#Luxor.textcurve"><code>Luxor.textcurve</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Place a string of text on a curve. It can spiral in or out.</p><pre><code class="language-none">textcurve(the_text,
          start_angle,
          start_radius,
          x_pos,
          y_pos;
          # optional keyword arguments:
          spiral_ring_step = 0,   # step out or in by this amount
          letter_spacing = 0,     # tracking/space between chars, tighter is (-), looser is (+)
          spiral_in_out_shift = 0 # + values go outwards, - values spiral inwards
          )</code></pre><p><code>start_angle</code> is relative to +ve x-axis, arc/circle is centred on <code>(x_pos,y_pos)</code> with radius <code>start_radius</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L875-L892">source</a><br/></section><h3><a class="nav-anchor" id="Text-clipping-1" href="#Text-clipping-1">Text clipping</a></h3><p>You can use newly-created text paths as a clipping region - here the text paths are &#39;filled&#39; with names of randomly chosen Julia functions.</p><p><img src="examples/text-path-clipping.png" alt="text clipping"/></p><pre><code class="language-julia">    using Luxor, Colors

    currentwidth = 1250 # pts
    currentheight = 800 # pts
    Drawing(currentwidth, currentheight, &quot;/tmp/text-path-clipping.png&quot;)

    origin()
    background(&quot;darkslategray3&quot;)

    fontsize(600)                             # big fontsize to use for clipping
    fontface(&quot;Agenda-Black&quot;)
    str = &quot;julia&quot;                             # string to be clipped
    w, h = textextents(str)[3:4]              # get width and height

    translate(-(currentwidth/2) + 50, -(currentheight/2) + h)

    textpath(str)                             # make text into a path
    setline(3)
    setcolor(&quot;black&quot;)
    fillpreserve()                            # fill but keep
    clip()                                    # and use for clipping region

    fontface(&quot;Monaco&quot;)
    fontsize(10)
    namelist = map(x-&gt;string(x), names(Base)) # get list of function names in Base.

    x = -20
    y = -h
    while y &lt; currentheight
        sethue(rand(7:10)/10, rand(7:10)/10, rand(7:10)/10)
        s = namelist[rand(1:end)]
        text(s, x, y)
        se = textextents(s)
        x += se[5]                            # move to the right
        if x &gt; w
           x = -20                            # next row
           y += 10
        end
    end

    finish()
    preview()</code></pre><h1><a class="nav-anchor" id="Transforms-and-matrices-1" href="#Transforms-and-matrices-1">Transforms and matrices</a></h1><p>For basic transformations of the drawing space, use <code>scale(sx, sy)</code>, <code>rotate(a)</code>, and <code>translate(tx, ty)</code>.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.scale" href="#Base.scale"><code>Base.scale</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Scale subsequent drawing in x and y.</p><p>Example:</p><pre><code class="language-none">scale(0.2, 0.3)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L720-L727">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.rotate" href="#Luxor.rotate"><code>Luxor.rotate</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Rotate subsequent drawing by <code>a</code> radians clockwise.</p><pre><code class="language-none">rotate(a)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L731-L736">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.translate" href="#Luxor.translate"><code>Luxor.translate</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Translate to new location.</p><pre><code class="language-none">translate(x, y)</code></pre><p>or</p><pre><code class="language-none">translate(point)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L740-L748">source</a><br/></section><p>The current matrix is a six number array, perhaps like this:</p><pre><code class="language-none">[1, 0, 0, 1, 0, 0]</code></pre><p><code>getmatrix()</code> gets the current matrix, <code>setmatrix(a)</code> sets the matrix to array <code>a</code>, and  <code>transform(a)</code> transforms the current matrix by &#39;multiplying&#39; it with matrix <code>a</code>.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.getmatrix" href="#Luxor.getmatrix"><code>Luxor.getmatrix</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Get the current matrix.</p><pre><code class="language-none">getmatrix()</code></pre><p>Return current Cairo matrix as an array. In Cairo and Luxor, a matrix is an array of 6 float64 numbers:</p><ul><li><p>xx component of the affine transformation</p></li><li><p>yx component of the affine transformation</p></li><li><p>xy component of the affine transformation</p></li><li><p>yy component of the affine transformation</p></li><li><p>x0 translation component of the affine transformation</p></li><li><p>y0 translation component of the affine transformation</p></li></ul><p>Some basic matrix transforms:</p><p>translate(dx,dy) =	  transform([1,  0, 0,  1, dx, dy])                 shift by scale(fx, fy)    =    transform([fx, 0, 0, fy,  0, 0])                  scale by rotate(A)        =    transform([c, s, -c, c,   0, 0])                  rotate to A radians x-skew(a)        =    transform([1,  0, tan(a), 1,   0, 0])             xskew by A y-skew(a)        =    transform([1, tan(a), 0, 1, 0, 0])                yskew by A flip HV          =    transform([fx, 0, 0, fy, cx(<em>1-fx), cy</em> (fy-1)])  flip</p><p>WHen a drawing is first created, the matrix looks like this:</p><pre><code class="language-none">getmatrix() = [1.0,0.0,0.0,1.0,0.0,0.0]</code></pre><p>When the origin is moved to 400/400, it looks like this:</p><pre><code class="language-none">getmatrix() = [1.0,0.0,0.0,1.0,400.0,400.0]</code></pre><p>To reset the matrix to the original:</p><pre><code class="language-none">setmatrix([1.0,0.0,0.0,1.0,0.0,0.0])</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L1075-L1110">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.setmatrix" href="#Luxor.setmatrix"><code>Luxor.setmatrix</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Change the current Cairo matrix to matrix <code>m</code>.</p><pre><code class="language-none">setmatrix(m::Array)</code></pre><p>Use <code>getmatrix()</code> to get the current matrix.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L1116-L1122">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.transform" href="#Luxor.transform"><code>Luxor.transform</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Modify the current matrix by multiplying it by matrix <code>a</code>.</p><pre><code class="language-none">transform(a::Array)</code></pre><p>For example, to skew the current state by 45 degrees in x and move by 20 in y direction:</p><pre><code class="language-none">transform([1, 0, tand(45), 1, 0, 20])</code></pre><p>Use <code>getmatrix()</code> to get the current matrix.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L1138-L1148">source</a><br/></section><h1><a class="nav-anchor" id="Clipping-1" href="#Clipping-1">Clipping</a></h1><p>Use <code>clip()</code> to turn the current path into a clipping region, masking any graphics outside the path. <code>clippreserve()</code> keep the current path, but also use it as a clipping region. <code>clipreset()</code> resets it. <code>:clip</code> is also an action for drawing functions like <code>circle()</code>.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.clip" href="#Luxor.clip"><code>Luxor.clip</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Establish a new clip region by intersecting the current clip region with the current path and then clearing the current path.</p><pre><code class="language-none">clip()</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L383-L388">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.clippreserve" href="#Luxor.clippreserve"><code>Luxor.clippreserve</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Establishes a new clip region by intersecting the current clip region with the current path, but keep the current path.</p><pre><code class="language-none">clippreserve()</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L391-L396">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.clipreset" href="#Luxor.clipreset"><code>Luxor.clipreset</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Reset the clip region to the current drawing&#39;s extent.</p><pre><code class="language-none">clipreset()</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L399-L403">source</a><br/></section><p>This example loads a file containing a function that draws the Julia logo. It can create paths but doesn&#39;t necessarily apply an action them; they can therefore be used as a mask for clipping subsequent graphics:</p><p><img src="examples/julia-logo-mask.png" alt="julia logo mask"/></p><pre><code class="language-julia"># load functions to draw the Julia logo
include(&quot;../test/julia-logo.jl&quot;)

currentwidth = 500 # pts
currentheight = 500 # pts
Drawing(currentwidth, currentheight, &quot;/tmp/clipping-tests.pdf&quot;)

function draw(x, y)
    foregroundcolors = diverging_palette(rand(0:360), rand(0:360), 200, s = 0.99, b=0.8)
    gsave()
    translate(x-100, y)
    julialogo(false, true)      # add paths for logo
    clip()                      # use paths for clipping
    for i in 1:500
        sethue(foregroundcolors[rand(1:end)])
        circle(rand(-50:350), rand(0:300), 15, :fill)
    end
    grestore()
end

origin()
background(&quot;white&quot;)
setopacity(.4)
draw(0, 0)

finish()
preview()</code></pre><h1><a class="nav-anchor" id="Images-1" href="#Images-1">Images</a></h1><p>There is some limited support for placing PNG images on the drawing. First, load a PNG image using <code>readpng(filename)</code>.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.readpng" href="#Luxor.readpng"><code>Luxor.readpng</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Read a PNG file into Cairo.</p><pre><code class="language-none">readpng(pathname)</code></pre><p>This returns a Cairo.CairoSurface, suitable for placing on the current drawing with <code>placeimage()</code>. You can access its width and height properties.</p><pre><code class="language-none">image = readpng(&quot;/tmp/test-image.png&quot;)
w = image.width
h = image.height</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L1161-L1172">source</a><br/></section><p>Then use <code>placeimage()</code> to place a loaded PNG image by its top left corner at point <code>x/y</code> or <code>pt</code>.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.placeimage" href="#Luxor.placeimage"><code>Luxor.placeimage</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Place a PNG image on the drawing.</p><pre><code class="language-none">placeimage(img, xpos, ypos)</code></pre><p>Place an image previously loaded using <code>readpng()</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L1181-L1187">source</a><br/><div><p>Place a PNG image on the drawing using alpha transparency.</p><pre><code class="language-none">placeimage(img, xpos, ypos, a)</code></pre><p>Place an image previously loaded using <code>readpng()</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Luxor.jl#L1194-L1200">source</a><br/></section><pre><code class="language-julia">img = readpng(filename)
placeimage(img, xpos, ypos)
placeimage(img, pt::Point)
placeimage(img, xpos, ypos, 0.5) # use alpha transparency of 0.5
placeimage(img, pt::Point, 0.5)

img = readpng(&quot;examples/julia-logo-mask.png&quot;)
w = img.width
h = img.height
placeimage(img, -w/2, -h/2) # centered at point</code></pre><p>You can clip images. The following script repeatedly places an image after first using a circle to define a clipping path:</p><p><img src="examples/test-image.png" alt="\"Images\""/></p><pre><code class="language-julia">using Luxor

width, height = 4000, 4000
margin = 500

Drawing(width, height, &quot;/tmp/cairo-image.pdf&quot;)
origin()
background(&quot;grey25&quot;)

setline(5)
sethue(&quot;green&quot;)

image = readpng(&quot;examples/julia-logo-mask.png&quot;)
w = image.width
h = image.height

x = (-width/2) + margin
y = (-height/2) + margin

for i in 1:36
    circle(x, y, 250, :stroke)
    circle(x, y, 250, :clip)
    gsave()
    translate(x, y)
    scale(.95, .95)
    rotate(rand(0.0:pi/8:2pi))

    placeimage(image, -w/2, -h/2)

    grestore()
    clipreset()
    x += 600
    if x &gt; width/2
        x = (-width/2) + margin
        y += 600
    end
end

finish()
preview()</code></pre><h1><a class="nav-anchor" id="Turtle-graphics-1" href="#Turtle-graphics-1">Turtle graphics</a></h1><p>Some simple &quot;turtle graphics&quot; functions are included. Functions to control the turtle begin with a capital letter: Forward, Turn, Circle, Orientation, Rectangle, Pendown, Penup, Pencolor, Penwidth, and Reposition.</p><p><img src="examples/turtles.png" alt="Turtle"/></p><pre><code class="language-julia">using Luxor, Colors

Drawing(1200, 1200, &quot;/tmp/turtles.png&quot;)
origin()
background(&quot;black&quot;)

# let&#39;s have two turtles
raphael = Turtle(0, 0, true, 0, (1.0, 0.25, 0.25)) ; michaelangelo = Turtle(0, 0, true, 0, (1.0, 0.25, 0.25))

setopacity(0.95)
setline(6)

Pencolor(raphael, 1.0, 0.4, 0.2);       Pencolor(michaelangelo, 0.2, 0.9, 1.0)
Reposition(raphael, 500, -200);         Reposition(michaelangelo, 500, 200)
Message(raphael, &quot;Raphael&quot;);            Message(michaelangelo, &quot;Michaelangelo&quot;)
Reposition(raphael, 0, -200);           Reposition(michaelangelo, 0, 200)

pace = 10
for i in 1:5:400
    for turtle in [raphael, michaelangelo]
        Circle(turtle, 3)
        HueShift(turtle, rand())
        Forward(turtle, pace)
        Turn(turtle, 30 - rand())
        Message(turtle, string(i))
        pace += 1
    end
end

finish()
preview()</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.Turtle" href="#Luxor.Turtle"><code>Luxor.Turtle</code></a> — <span class="docstring-category">Type</span>.</div><div><p>With a Turtle you can command a turtle to move and draw: turtle graphics.</p><p>The functions that start with a capital letter are: Forward, Turn, Circle, Orientation, Rectangle, Pendown, Penup, Pencolor, Penwidth, and Reposition.</p><p>There are also some other functions. To see how they might be used, see Lindenmayer.jl.</p></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Turtle.jl#L19-L26">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.Forward" href="#Luxor.Forward"><code>Luxor.Forward</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Move the turtle forward by <code>d</code> units. The stored position is updated.</p><pre><code class="language-none">Forward(t::Turtle, d)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Turtle.jl#L42-L46">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.Turn" href="#Luxor.Turn"><code>Luxor.Turn</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Increase the turtle&#39;s rotation by <code>r</code> radians. See also <code>Orientation</code>.</p><pre><code class="language-none">Turn(t::Turtle, r)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Turtle.jl#L62-L66">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.Circle" href="#Luxor.Circle"><code>Luxor.Circle</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Draw a filled circle centred at the current position with the given radius.</p><pre><code class="language-none">Circle(t::Turtle, radius)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Turtle.jl#L94-L98">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.Orientation" href="#Luxor.Orientation"><code>Luxor.Orientation</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Set the turtle&#39;s orientation to <code>r</code> radians. See also <code>Turn</code>.</p><pre><code class="language-none">Orientation(t::Turtle, r)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Turtle.jl#L70-L74">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.Rectangle" href="#Luxor.Rectangle"><code>Luxor.Rectangle</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Draw a filled rectangle centred at the current position with the given radius.</p><pre><code class="language-none">Rectangle(t::Turtle, width, height)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Turtle.jl#L105-L110">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.Pendown" href="#Luxor.Pendown"><code>Luxor.Pendown</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Put that pen down and start drawing.</p><pre><code class="language-none">Pendown(t::Turtle)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Turtle.jl#L78-L82">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.Penup" href="#Luxor.Penup"><code>Luxor.Penup</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Pick that pen up and stop drawing.</p><pre><code class="language-none">Penup(t::Turtle)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Turtle.jl#L86-L90">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.Pencolor" href="#Luxor.Pencolor"><code>Luxor.Pencolor</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Set the Red, Green, and Blue colors of the turtle:</p><pre><code class="language-none">Pencolor(t::Turtle, r, g, b)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Turtle.jl#L181-L185">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.Penwidth" href="#Luxor.Penwidth"><code>Luxor.Penwidth</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Set the width of the line drawn.</p><pre><code class="language-none">Penwidth(t::Turtle, w)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Turtle.jl#L201-L205">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.Reposition" href="#Luxor.Reposition"><code>Luxor.Reposition</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Reposition: pick the turtle up and place it at another position:</p><pre><code class="language-none">Reposition(t::Turtle, x, y)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/cormullion/Luxor.jl/tree/e4c7b527d87cae2e9f1b9ef364bb12a30d4167b8/src/Turtle.jl#L191-L195">source</a><br/></section><h1><a class="nav-anchor" id="More-examples-1" href="#More-examples-1">More examples</a></h1><h2><a class="nav-anchor" id="Sierpinski-triangle-1" href="#Sierpinski-triangle-1">Sierpinski triangle</a></h2><p>The main type is the Point.</p><p><img src="examples/sierpinski.png" alt="Sierpinski"/></p><pre><code class="language-julia">using Luxor, Colors

function triangle(points::Array{Point}, degree::Int64)
    global counter, cols
    setcolor(cols[degree+1])
    poly(points, :fill)
    counter += 1
end

function sierpinski(points::Array{Point}, degree::Int64)
    triangle(points, degree)
    if degree &gt; 0
        p1, p2, p3 = points
        sierpinski([p1, midpoint(p1, p2),
                        midpoint(p1, p3)], degree-1)
        sierpinski([p2, midpoint(p1, p2),
                        midpoint(p2, p3)], degree-1)
        sierpinski([p3, midpoint(p3, p2),
                        midpoint(p1, p3)], degree-1)
    end
end

@time begin
    depth = 8 # 12 is ok, 20 is right out
    cols = distinguishable_colors(depth+1)
    Drawing(400, 400, &quot;/tmp/sierpinski.svg&quot;)
    origin()
    setopacity(0.5)
    counter = 0
    my_points = [Point(-100,-50), Point(0,100), Point(100.0,-50.0)]
    sierpinski(my_points, depth)
    println(&quot;drew $counter triangles&quot;)
end

finish()
preview()

# drew 9841 triangles
# elapsed time: 1.738649452 seconds (118966484 bytes allocated, 2.20% gc time)</code></pre><h2><a class="nav-anchor" id="Luxor-logo-1" href="#Luxor-logo-1">Luxor logo</a></h2><p>A simple of example of clipping. The circle of radius 90 units sets a clipping mask or region, and subsequent curves are clipped by that circle, until the <code>clipreset()</code>  function clears the clipping mask.</p><p><img src="examples/luxor-logo.png" alt="logo"/></p><pre><code class="language-none">using Luxor, Colors, ColorSchemes

width = 300  # pts
height = 300 # pts
Drawing(width, height, &quot;/tmp/luxor-logo.png&quot;)

function spiral(colscheme)
  circle(0, 0, 90, :clip)
  for theta in 0:pi/6:2pi
    sethue(colorscheme(colscheme, rescale(theta, 0, 2pi, 0, 1)))
    gsave()
    rotate(theta)
    move(5,0)
    curve(Point(60, 70), Point(80, -70), Point(120, 70))
    closepath()
    fill()
    grestore()
  end
  clipreset()
end

origin()
background(&quot;white&quot;)
scale(1.3, 1.3)
colscheme = loadcolorscheme(&quot;solarcolors&quot;)
spiral(colscheme)
finish()
preview()</code></pre><h1><a class="nav-anchor" id="Index-1" href="#Index-1">Index</a></h1><ul><li><a href="index.html#Luxor.Drawing"><code>Luxor.Drawing</code></a></li><li><a href="index.html#Luxor.PageTiler"><code>Luxor.PageTiler</code></a></li><li><a href="index.html#Luxor.Turtle"><code>Luxor.Turtle</code></a></li><li><a href="index.html#Base.fill"><code>Base.fill</code></a></li><li><a href="index.html#Base.scale"><code>Base.scale</code></a></li><li><a href="index.html#Luxor.Circle"><code>Luxor.Circle</code></a></li><li><a href="index.html#Luxor.Forward"><code>Luxor.Forward</code></a></li><li><a href="index.html#Luxor.Orientation"><code>Luxor.Orientation</code></a></li><li><a href="index.html#Luxor.Pencolor"><code>Luxor.Pencolor</code></a></li><li><a href="index.html#Luxor.Pendown"><code>Luxor.Pendown</code></a></li><li><a href="index.html#Luxor.Penup"><code>Luxor.Penup</code></a></li><li><a href="index.html#Luxor.Penwidth"><code>Luxor.Penwidth</code></a></li><li><a href="index.html#Luxor.Rectangle"><code>Luxor.Rectangle</code></a></li><li><a href="index.html#Luxor.Reposition"><code>Luxor.Reposition</code></a></li><li><a href="index.html#Luxor.Turn"><code>Luxor.Turn</code></a></li><li><a href="index.html#Luxor.arc"><code>Luxor.arc</code></a></li><li><a href="index.html#Luxor.arrow"><code>Luxor.arrow</code></a></li><li><a href="index.html#Luxor.axes"><code>Luxor.axes</code></a></li><li><a href="index.html#Luxor.background"><code>Luxor.background</code></a></li><li><a href="index.html#Luxor.box"><code>Luxor.box</code></a></li><li><a href="index.html#Luxor.carc"><code>Luxor.carc</code></a></li><li><a href="index.html#Luxor.circle"><code>Luxor.circle</code></a></li><li><a href="index.html#Luxor.clip"><code>Luxor.clip</code></a></li><li><a href="index.html#Luxor.clippreserve"><code>Luxor.clippreserve</code></a></li><li><a href="index.html#Luxor.clipreset"><code>Luxor.clipreset</code></a></li><li><a href="index.html#Luxor.closepath"><code>Luxor.closepath</code></a></li><li><a href="index.html#Luxor.curve"><code>Luxor.curve</code></a></li><li><a href="index.html#Luxor.ellipse"><code>Luxor.ellipse</code></a></li><li><a href="index.html#Luxor.fillpreserve"><code>Luxor.fillpreserve</code></a></li><li><a href="index.html#Luxor.fillstroke"><code>Luxor.fillstroke</code></a></li><li><a href="index.html#Luxor.finish"><code>Luxor.finish</code></a></li><li><a href="index.html#Luxor.fontface"><code>Luxor.fontface</code></a></li><li><a href="index.html#Luxor.fontsize"><code>Luxor.fontsize</code></a></li><li><a href="index.html#Luxor.getmatrix"><code>Luxor.getmatrix</code></a></li><li><a href="index.html#Luxor.grestore"><code>Luxor.grestore</code></a></li><li><a href="index.html#Luxor.gsave"><code>Luxor.gsave</code></a></li><li><a href="index.html#Luxor.isinside"><code>Luxor.isinside</code></a></li><li><a href="index.html#Luxor.line"><code>Luxor.line</code></a></li><li><a href="index.html#Luxor.move"><code>Luxor.move</code></a></li><li><a href="index.html#Luxor.newpath"><code>Luxor.newpath</code></a></li><li><a href="index.html#Luxor.newsubpath"><code>Luxor.newsubpath</code></a></li><li><a href="index.html#Luxor.ngon"><code>Luxor.ngon</code></a></li><li><a href="index.html#Luxor.ngonv"><code>Luxor.ngonv</code></a></li><li><a href="index.html#Luxor.origin"><code>Luxor.origin</code></a></li><li><a href="index.html#Luxor.pie"><code>Luxor.pie</code></a></li><li><a href="index.html#Luxor.placeimage"><code>Luxor.placeimage</code></a></li><li><a href="index.html#Luxor.polybbox"><code>Luxor.polybbox</code></a></li><li><a href="index.html#Luxor.polycentroid"><code>Luxor.polycentroid</code></a></li><li><a href="index.html#Luxor.polysortbyangle"><code>Luxor.polysortbyangle</code></a></li><li><a href="index.html#Luxor.polysortbydistance"><code>Luxor.polysortbydistance</code></a></li><li><a href="index.html#Luxor.polysplit"><code>Luxor.polysplit</code></a></li><li><a href="index.html#Luxor.prettypoly"><code>Luxor.prettypoly</code></a></li><li><a href="index.html#Luxor.preview"><code>Luxor.preview</code></a></li><li><a href="index.html#Luxor.readpng"><code>Luxor.readpng</code></a></li><li><a href="index.html#Luxor.rect"><code>Luxor.rect</code></a></li><li><a href="index.html#Luxor.rline"><code>Luxor.rline</code></a></li><li><a href="index.html#Luxor.rmove"><code>Luxor.rmove</code></a></li><li><a href="index.html#Luxor.rotate"><code>Luxor.rotate</code></a></li><li><a href="index.html#Luxor.sector"><code>Luxor.sector</code></a></li><li><a href="index.html#Luxor.setdash"><code>Luxor.setdash</code></a></li><li><a href="index.html#Luxor.setline"><code>Luxor.setline</code></a></li><li><a href="index.html#Luxor.setlinecap"><code>Luxor.setlinecap</code></a></li><li><a href="index.html#Luxor.setlinejoin"><code>Luxor.setlinejoin</code></a></li><li><a href="index.html#Luxor.setmatrix"><code>Luxor.setmatrix</code></a></li><li><a href="index.html#Luxor.simplify"><code>Luxor.simplify</code></a></li><li><a href="index.html#Luxor.star"><code>Luxor.star</code></a></li><li><a href="index.html#Luxor.starv"><code>Luxor.starv</code></a></li><li><a href="index.html#Luxor.stroke"><code>Luxor.stroke</code></a></li><li><a href="index.html#Luxor.strokepreserve"><code>Luxor.strokepreserve</code></a></li><li><a href="index.html#Luxor.text"><code>Luxor.text</code></a></li><li><a href="index.html#Luxor.textcentred"><code>Luxor.textcentred</code></a></li><li><a href="index.html#Luxor.textcurve"><code>Luxor.textcurve</code></a></li><li><a href="index.html#Luxor.textextents"><code>Luxor.textextents</code></a></li><li><a href="index.html#Luxor.textpath"><code>Luxor.textpath</code></a></li><li><a href="index.html#Luxor.transform"><code>Luxor.transform</code></a></li><li><a href="index.html#Luxor.translate"><code>Luxor.translate</code></a></li></ul><footer><hr/></footer></article></body></html>
